{"pageProps":{"posts":[{"frontMatter":{"date":"2022-11-10T00:00:00","title":"Axios Intercepter 사용해보기","tags":["react","typescript","axios","javascript"],"description":"Axios: Intercepter 사용해보기","published":true,"path":"axios-interceptor.mdx","key":"axios-interceptor"},"body":"> Axios Interceptors\n>\n>\n> `then` 또는 `catch`로 처리되기 전에 요청과 응답을 가로챌 수 있다.\n>\n> [출처: Axios Docs Interceptors](https://axios-http.com/kr/docs/interceptors)\n>\n- 요청(request)을 보내기 전이나 응답(response)을 받은 직후 지정된 작업을 수행할 수 있게 한다.\n- Token 처리나 Error 처리에 용이하다.\n\n# Interceptors 추가하기\n\n```tsx\n// 요청 인터셉터 추가하기\naxios.interceptors.request.use(function (config: AxiosRequestConfig) {\n    // 요청이 전달되기 전에 작업 수행\n    return config;\n  }, function (error) {\n    // 요청 오류가 있는 작업 수행\n    return Promise.reject(error);\n  });\n\n// 응답 인터셉터 추가하기\naxios.interceptors.response.use(function (response: AxiosResponse) {\n    // 2xx 범위에 있는 상태 코드는 이 함수를 트리거 합니다.\n    // 응답 데이터가 있는 작업 수행\n    return response;\n  }, function (error: AxiosError) {\n    // 2xx 외의 범위에 있는 상태 코드는 이 함수를 트리거 합니다.\n    // 응답 오류가 있는 작업 수행\n    return Promise.reject(error);\n  });\n```\n\n# Interceptors 제거하기\n\n```tsx\nconst myInterceptor = axios.interceptors.request.use(function () {/*...*/});\naxios.interceptors.request.eject(myInterceptor);\n```\n\n# Custom Instance에서 Interceptors 사용하기\n\n```tsx\nconst instance = axios.create();\ninstance.interceptors.request.use(function () {/*...*/});\n```\n\n# 참조\n\n- [Axios Docs Interceptors](https://axios-http.com/kr/docs/interceptors)","fields":{"slug":"axios-interceptor"},"path":"axios-interceptor.mdx"},{"frontMatter":{"date":"2022-09-19T00:00:00","title":"Axios Config 기본값 정리","tags":["react","typescript","axios","javascript"],"description":"Axios Config 기본값 정리","published":true,"path":"axios-config.mdx","key":"axios-config"},"body":"> 모든 요청에 적용될 config 기본값을 지정할 수 있다.\n>\n\n# **전역 Axios 기본값**\n\n```tsx\naxios.defaults.baseURL = 'https://api.example.com';\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n```\n\n# 커스텀 인스턴스 기본값\n\n## 인스턴스를 생성할때 config 기본값 설정하기\n\n```tsx\nconst instance = axios.create({\n  baseURL: 'https://api.example.com'\n});\n```\n\n## 인스턴스를 생성할때 config 기본값 설정하기: TypeScript에서 생성하기\n\n```tsx\nimport axios, { AxiosRequestConfig } from 'axios';\n\nconst axiosConfig: AxiosRequestConfig = {\n  baseURL: 'BASE_URL'\n}\nconst instance = axios.create(axiosConfig);\n```\n\n## 인스턴스를 만든 후 기본값 변경하기\n\n```tsx\ninstance.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n```\n\n## 인스턴스 사용하기\n\n```tsx\nconst response = await instance.post('login', params);\n```\n\n# **Config 우선 순위**\n\nConfig는 우선 순위에 따라 병합된다.\n\n라이브러리에서의 기본값 <  인스턴스의 `defaults` 속성 < 요청의 `config` 인자를 순서대로 우선순위가 낮다.\n\n```tsx\n// 라이브러리에서 제공하는 config 기본값을 사용하여 인스턴스 만들기\n// 이 때 timeout 값은 라이브러리의 기본값인 '0'입니다.\nconst instance = axios.create();\n\n// 라이브러리에 대한 timeout 값 재정의\n// 이제 모든 요청은 시간 초과 전 2.5초 대기하는 인스턴스를 사용합니다.\ninstance.defaults.timeout = 2500;\n\n// 시간이 오래 걸리는 요청에 대한 timeout 값 재정의\ninstance.get('/longRequest', {\n  timeout: 5000\n});\n```\n\n# 참조\n\n- [Axios Docs Config 기본값](https://axios-http.com/kr/docs/config_defaults)","fields":{"slug":"axios-config"},"path":"axios-config.mdx"}],"allTags":[{"tag":"all","count":33},{"tag":"typescript","count":10},{"tag":"react","count":10},{"tag":"javascript","count":10},{"tag":"network","count":5},{"tag":"git","count":5},{"tag":"nextjs","count":4},{"tag":"husky","count":3},{"tag":"yarn","count":2},{"tag":"npm","count":2},{"tag":"vite","count":2},{"tag":"emotion","count":2},{"tag":"css","count":2},{"tag":"redux","count":2},{"tag":"axios","count":2},{"tag":"yarn_berry","count":1},{"tag":"giscus","count":1},{"tag":"utterances","count":1},{"tag":"styled_components","count":1},{"tag":"redux_persist","count":1},{"tag":"python3","count":1},{"tag":"gtag","count":1},{"tag":"google_analytics","count":1},{"tag":"computer_science","count":1},{"tag":"programming","count":1},{"tag":"lodash","count":1},{"tag":"commitlint","count":1},{"tag":"githubpage","count":1},{"tag":"intellij","count":1},{"tag":"gatsby","count":1},{"tag":"framer_motion","count":1},{"tag":"tailwind","count":1}],"selectedTag":"axios","page":0},"__N_SSG":true}