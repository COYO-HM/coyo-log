<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>COYO-LOG:D  | Blog</title><meta name="robots" content="index,follow"/><meta name="description" content="주니어 개발자의 개발 일지"/><meta property="og:title" content="Blog"/><meta property="og:description" content="주니어 개발자의 개발 일지"/><meta property="og:url" content="https://coyo-hm.github.io/blog"/><meta property="og:image" content="/static/images/moblie-profile.png"/><meta property="og:image:alt" content="Blog"/><link rel="canonical" href="https://coyo-hm.github.io/blog"/><meta name="next-head-count" content="11"/><link rel="canonical" href="https://coyo-hm.github.io/"/><link rel="icon" href="/favicons/favicon.ico"/><link rel="apple-touch-icon" sizes="76x76" href="/favicons/logo_76x76.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/logo_32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/logo_16x16.png"/><link rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/15ffedc6358dec29.css" as="style"/><link rel="stylesheet" href="/_next/static/css/15ffedc6358dec29.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-2c79e2a64abdb08b.js" defer=""></script><script src="/_next/static/chunks/main-91cbd5428e348355.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b9843493e88d3c80.js" defer=""></script><script src="/_next/static/chunks/95b64a6e-5c1c80ce1af5e491.js" defer=""></script><script src="/_next/static/chunks/78e521c3-51ac8ea2f602206d.js" defer=""></script><script src="/_next/static/chunks/130-e223123549145b7d.js" defer=""></script><script src="/_next/static/chunks/pages/blog-40f65f14f17c3411.js" defer=""></script><script src="/_next/static/SNUWWwPyCHqfCk4CGLza2/_buildManifest.js" defer=""></script><script src="/_next/static/SNUWWwPyCHqfCk4CGLza2/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="bg-neutral-100 dark:bg-neutral-800 dark:text-neutral-100 min-w-[320px]"><div class="min-h-screen md:max-lg:w-full lg:w-[1000px] flex flex-col items-center px-8 m-auto dark:bg-neutral-800"><header class="w-full flex justify-center items-center pb-1 pt-4 relative"><div class="absolute left-0 flex max-md:flex-col"><button class="hidden p-2 rounded-full transition-all max-md:block hover:text-blue-700 active:bg-neutral-300 dark:active:bg-neutral-900 "><svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 15 15" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z" fill="currentColor"></path></svg></button><nav class="flex z-10 gap-3 max-md:gap-2 max-md:hidden"><a class="hover:text-blue-700 font-light border-b max-md:pl-4 max-md:border-b-transparent border-b-blue-700" href="/blog">BLOG</a><a class="hover:text-blue-700 font-light border-b max-md:pl-4 max-md:border-b-transparent border-b-transparent" href="/project">PROJECT</a></nav></div><a class="text-lg" href="/">COYO-LOG:D </a><div class="absolute right-0 grid gap-2 place-items-center"><button id="btn-theme" class="rounded-full bg-neutral-100 dark:bg-neutral-900 text-yellow-500 dark:text-blue-100"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></svg></button></div></header><main class="w-full grow flex flex-col my-6"><main class="flex flex-col gap-5"><header class="flex justify-end items-center gap-1 px-1"><h1 class="font-bold text-3xl flex-grow">Blog</h1><span class="text-neutral-500 text-sm">포스트 수: <!-- -->20</span><button class="px-2 py-3 rounded-2xl hover:bg-neutral-200 dark:hover:bg-neutral-700 active:bg-neutral-200 dark:active:bg-neutral-700 "><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"></path></svg></button></header><article class="flex flex-col flex-nowrap gap-3"><a class="flex bg-[rgb(255,255,255,0.6)] dark:bg-[rgba(255,250,250,0.1)] p-4 rounded shadow-xl bg-translate overflow-hidden hover:-translate-y-0.5 hover:duration-300 hover:ease-in-out" href="/blog/git/git-commit-template"><div class="h-full w-1/4 relative"><img alt="git commit template 등록하기" sizes="100vw" srcSet="https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=640&amp;q=75 640w, https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=750&amp;q=75 750w, https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=828&amp;q=75 828w, https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=1080&amp;q=75 1080w, https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=1200&amp;q=75 1200w, https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=1920&amp;q=75 1920w, https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=2048&amp;q=75 2048w, https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=3840&amp;q=75 3840w" src="https://coyo-hm.github.io./thumbnail/git-commit-template.png?w=3840&amp;q=75" decoding="async" data-nimg="fill" class="object-cover" loading="lazy" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent"/></div><section class="flex flex-col"><div class="text-neutral-800 dark:text-neutral-100 font-semibold pb-2">git commit template 등록하기</div><div class="dark:text-neutral-300 mb-2 w-full max-h-10 break-normal overflow-hidden text-ellipsis flex items-center"><span class="text-neutral-400 text-xs flex-shrink-0">2023<!-- -->.<!-- -->9<!-- -->.<!-- -->25</span><div class="flex items-center gap-1 flex-shrink flex-grow border-l-2 border-neutral-200 overflow-hidden pl-2 ml-2"><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-neutral-400">#<!-- -->Git</div><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-neutral-400">#<!-- -->IntelliJ</div></div></div><div class="text-neutral-600 dark:text-neutral-300 break-normal text-ellipsis text-xs">git commit template 등록하고 IntelliJ에서 사용해보기</div></section></a><a class="flex bg-[rgb(255,255,255,0.6)] dark:bg-[rgba(255,250,250,0.1)] p-4 rounded shadow-xl bg-translate overflow-hidden hover:-translate-y-0.5 hover:duration-300 hover:ease-in-out" href="/blog/network/browser-rendering"><div class="h-full w-1/4 relative"><div></div></div><section class="flex flex-col"><div class="text-neutral-800 dark:text-neutral-100 font-semibold pb-2">브라우저 렌더링 과정 살펴보기</div><div class="dark:text-neutral-300 mb-2 w-full max-h-10 break-normal overflow-hidden text-ellipsis flex items-center"><span class="text-neutral-400 text-xs flex-shrink-0">2023<!-- -->.<!-- -->9<!-- -->.<!-- -->13</span><div class="flex items-center gap-1 flex-shrink flex-grow border-l-2 border-neutral-200 overflow-hidden pl-2 ml-2"><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-neutral-400">#<!-- -->Network</div><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-[color:var(--color-css)]">#<!-- -->CSS</div></div></div><div class="text-neutral-600 dark:text-neutral-300 break-normal text-ellipsis text-xs">Rendering Engine 에 대해 알아보자</div></section></a><a class="flex bg-[rgb(255,255,255,0.6)] dark:bg-[rgba(255,250,250,0.1)] p-4 rounded shadow-xl bg-translate overflow-hidden hover:-translate-y-0.5 hover:duration-300 hover:ease-in-out" href="/blog/yarn/yarn-berry-pnp"><div class="h-full w-1/4 relative"><div></div></div><section class="flex flex-col"><div class="text-neutral-800 dark:text-neutral-100 font-semibold pb-2">Yarn Berry는 왜 빠른가?</div><div class="dark:text-neutral-300 mb-2 w-full max-h-10 break-normal overflow-hidden text-ellipsis flex items-center"><span class="text-neutral-400 text-xs flex-shrink-0">2023<!-- -->.<!-- -->9<!-- -->.<!-- -->6</span><div class="flex items-center gap-1 flex-shrink flex-grow border-l-2 border-neutral-200 overflow-hidden pl-2 ml-2"><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-neutral-400">#<!-- -->npm</div><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-neutral-400">#<!-- -->yarn</div><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-neutral-400">#<!-- -->yarn berry</div></div></div><div class="text-neutral-600 dark:text-neutral-300 break-normal text-ellipsis text-xs">yarn berry pnp에 대해 알아보자</div></section></a><a class="flex bg-[rgb(255,255,255,0.6)] dark:bg-[rgba(255,250,250,0.1)] p-4 rounded shadow-xl bg-translate overflow-hidden hover:-translate-y-0.5 hover:duration-300 hover:ease-in-out" href="/blog/git/github-page-publish"><div class="h-full w-1/4 relative"><div></div></div><section class="flex flex-col"><div class="text-neutral-800 dark:text-neutral-100 font-semibold pb-2">Github Page로 React 프로젝트 무료로 배포해보기</div><div class="dark:text-neutral-300 mb-2 w-full max-h-10 break-normal overflow-hidden text-ellipsis flex items-center"><span class="text-neutral-400 text-xs flex-shrink-0">2023<!-- -->.<!-- -->2<!-- -->.<!-- -->22</span><div class="flex items-center gap-1 flex-shrink flex-grow border-l-2 border-neutral-200 overflow-hidden pl-2 ml-2"><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-[color:var(--color-javascript)]">#<!-- -->JavaScript</div><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-[color:var(--color-react)]">#<!-- -->React</div><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-[color:var(--color-githubpage)]">#<!-- -->GithubPage</div></div></div><div class="text-neutral-600 dark:text-neutral-300 break-normal text-ellipsis text-xs">Github Page로 CRA로 만든 프로젝트를 무료로 배포해보자</div></section></a><a class="flex bg-[rgb(255,255,255,0.6)] dark:bg-[rgba(255,250,250,0.1)] p-4 rounded shadow-xl bg-translate overflow-hidden hover:-translate-y-0.5 hover:duration-300 hover:ease-in-out" href="/blog/javascript/intersection-observer-API"><div class="h-full w-1/4 relative"><div></div></div><section class="flex flex-col"><div class="text-neutral-800 dark:text-neutral-100 font-semibold pb-2">Intersection Observer API</div><div class="dark:text-neutral-300 mb-2 w-full max-h-10 break-normal overflow-hidden text-ellipsis flex items-center"><span class="text-neutral-400 text-xs flex-shrink-0">2023<!-- -->.<!-- -->2<!-- -->.<!-- -->13</span><div class="flex items-center gap-1 flex-shrink flex-grow border-l-2 border-neutral-200 overflow-hidden pl-2 ml-2"><div class="shrink-0 rounded py-0.5 px-1 text-xs text-neutral-100 bg-[color:var(--color-javascript)]">#<!-- -->JavaScript</div></div></div><div class="text-neutral-600 dark:text-neutral-300 break-normal text-ellipsis text-xs">Intersection Observer API 공식문서 읽고 정리해보기</div></section></a></article><div class="flex text-blue-700 justify-center items-center my-5"><a class="hover:text-blue-900" href="/blog?page=-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"></path></svg></a><div class="flex gap-3 items-center justify-center mx-2 text-base"></div><a class="hover:text-blue-900" href="/blog?page=1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"></path></svg></a></div></main></main><footer class="w-full flex flex-col items-center text-neutral-700 pb-3 dark:text-neutral-500"><div class="flex justify-center mb-2"><a href="https://github.com/COYO-HM" target="_blank" rel="noreferrer" class="mr-4 hover:text-blue-700"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="mailto:bsydwp@gmail.com" class="hover:text-blue-700"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a></div><div class="col-span-2 font-extralight">coyo © All rights reserved.</div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"allPosts":[{"frontMatter":{"date":"2023-09-25T00:00:00","title":"git commit template 등록하기","tags":["Git","IntelliJ"],"description":"git commit template 등록하고 IntelliJ에서 사용해보기","published":true,"thumbnail":"./thumbnail/git-commit-template.png"},"body":"\u003e **git commit template**\n\u003e\n\u003e commit 시에 등록한 commit template을 보여주어 commit message를 작성할 때 일정한 스타일을 유지할 수 있도록 도와준다.\n\n# git commit template 등록하기\n\n## template 파일 생성하고 작성하기\n\n1. `.git` 폴더가 있는 위치에 `.gitmessage.txt` 파일을 생성한다.\n\n\u003cimg style={{margin:\"0 auto 10px\"}} alt={\"git_message_txt\"} src={\"https://user-images.githubusercontent.com/56423604/270172830-eca18299-d8a3-4aee-9e0f-9c1323305df9.png\"}/\u003e\n\n2. 생성한 .gitmessage.txt 에 내용을 작성하면 된다.\n - `#` 으로 시작하면 주석 처리되어 커밋에 보이지 않는다.\n - 다음 사이트를 참고하여 본인에 맞게 룰을 작성하면 된다.\n\n\u003caside\u003e\n  🔗 Commit message rule\n\n  - [Conventional Commits 1.0.0](https://www.conventionalcommits.org/en/v1.0.0/)\n  - [좋은 git 커밋 메시지를 작성하기 위한 7가지 약속](https://meetup.nhncloud.com/posts/106)\n  - [Writing Meaningful Git Commit Messages](https://medium.com/@menuka/writing-meaningful-git-commit-messages-a62756b65c81)\n\u003c/aside\u003e\n\n  ```\n  # \u003c타입\u003e : \u003c제목\u003e 형식으로 작성하며 제목은 최대 50글자 정도로만 입력한다.\n\n  ################\n  # 본문(추가 설명)을 아랫줄에 작성한다.\n\n  ################\n  # 꼬리말(footer)을 아랫줄에 작성한다.\n\n  ################\n  # FEAT : 새로운 기능 추가\n  # FIX : 버그 수정\n  # DOCS : 문서 수정\n  # TEST : 테스트 코드 추가\n  # REFACTOR : 코드 리팩토링\n  # STYLE : 코드 의미에 영향을 주지 않는 변경사항\n  # CHORE : 빌드 부분 혹은 패키지 매니저 수정사항\n  ################\n        ```\n\n\n## commit message template 설정하기\n\n아래 명령어를 terminal 에 입력한다.\n\n```bash\ngit config --global commit.template .gitmessage.txt\n```\n\ntemplate을 적용하면 git commit 할때마다 지정한 파일이 `vi` 로 나온다.\n\n\u003cimg style={{margin:\"0 auto 10px\"}} alt={\"git_template_vim\"} src={\"https://user-images.githubusercontent.com/56423604/270172961-313f6ee3-20ab-450a-a758-581a0be2e384.png\"}/\u003e\n\n`i` 를 눌러 제목 본문 꼬리말을 작성하고 `esc`를 누른 후에 `:wq!`를 입력한 후 `enter`를 눌러 작성한 것을 저장하여 커밋한다.\n\n# IntelliJ에서 사용해보기\n\n## Custom commit template 사용하기\n\n위에서 설정한 commit message template을 IntelliJ에서 commit 할때 사용할 수 있다.\n\n1. Settings \u003e Plugins \u003e MarketPlace 에서 해당 plugin 을 찾아 설치해준다.\n\n\u003cimg style={{margin:\"0 auto 10px\"}} alt={\"commit_message_template\"} src={\"https://user-images.githubusercontent.com/56423604/270173032-c1b65887-c651-45fa-b573-c2c35b479e54.png\"}/\u003e\n\n\n1. 설정한 commit message template 적용하기\n - Settings \u003e Tools \u003e Commit Message Template 에서 template을 적용한다.\n - 위에 text를 직접 입력해도 되고, Load Template File에 만들어둔 text 파일 directory 주소를 입력해도 된다.\n\n맥의 경우 파일을 찾을 때, `.gitmessage.txt` 파일의 경우 숨겨질 수 있기에 `command` + `shift` + `.` 을 눌러 숨김 파일도 볼 수 있도록 해주자.\n\n\n    \u003cimg style={{margin:\"0 auto 10px\"}} alt={\"commit_message_template_tools\"} src={\"https://user-images.githubusercontent.com/56423604/270173233-597e3a7d-19b5-4c73-a3a7-88957668d1be.png\"}/\u003e\n\n    적용해주면 commit 할때, 다음과 같이 입력한 template 이 나온다.\n\n    \u003cimg style={{margin:\"0 auto 10px\"}} alt={\"git_commit_template_example\"} src={\"https://user-images.githubusercontent.com/56423604/270173232-c39ce874-df0c-487f-94a9-6e706cad0c1c.png\"}/\u003e\n\n\n## ****Conventional**** commit template 사용하기\n\ntemplate 설정 없이 기존의 conventional commit template을 사용하는 plugin도 있다.\n\n\u003cimg style={{margin:\"0 auto 10px\"}} alt={\"git_commit_template_plugin\"} src={\"https://user-images.githubusercontent.com/56423604/270173230-205f29af-127d-45d0-a2a9-cadc27cad49c.png\"}/\u003e\n\n해당 plugin은 설치한 후에 commit 할때 create commit message 버튼 (아래 사진에 동그라미 쳐진 버튼) 을 클릭하면\n\n\u003cimg style={{margin:\"0 auto 10px\"}} alt={\"git_commit_template_commit1\"} src={\"https://user-images.githubusercontent.com/56423604/270173229-5e16e8a9-67e0-427b-91d8-482f01b8f78a.png\"}/\u003e\n\n다음과 같은 창이  나온다. 해당 창에서 내용을 입력하고 OK 버튼을 누르면,\n\n\u003cimg style={{margin:\"0 auto 10px\"}} alt={\"git_commit_template_commit2\"} src={\"https://user-images.githubusercontent.com/56423604/270173227-92414cb3-8b8f-4366-ae11-95a81c3c8efe.png\"}/\u003e\n\n다음과 같이 커밋 메세지를 작성해준다.\n\n\u003cimg style={{margin:\"0 auto 10px\"}} alt={\"git_commit_template_commit3\"} src={\"https://user-images.githubusercontent.com/56423604/270173223-83358c13-96c8-4d27-9fa2-7f86d2ae76ff.png\"}/\u003e\n\n# 참조\n\n- [좋은 git 커밋 메시지를 작성하기 위한 7가지 약속](https://meetup.nhncloud.com/posts/106)\n- [Writing Meaningful Git Commit Messages](https://medium.com/@menuka/writing-meaningful-git-commit-messages-a62756b65c81)\n- [Conventional Commits 1.0.0](https://www.conventionalcommits.org/en/v1.0.0/)","fields":{"slug":"blog/git/git-commit-template"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/git/git-commit-template.mdx"},{"frontMatter":{"date":"2023-09-13T00:00:00","title":"브라우저 렌더링 과정 살펴보기","tags":["Network","CSS"],"description":"Rendering Engine 에 대해 알아보자","published":true},"body":"브라우저 렌더링에 대해 탐구해보자 그러기엔 우선 웹 브라우저 구조를 간단하게 살펴보자.\n\n# 웹 브라우저 구조\n\n\u003e 웹 브라우저\n\u003e\n\u003e 코드(CSS, HTML, JavaScript 등등)를 가지고 웹 페이지를 그려주는 역할을 한다.\n\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/268966576-73d71f41-92eb-4042-8dbf-78043990c7a2.png\"} alt={\"web-browser-structure\"} style={{margin:\"20px 0\"}}/\u003e\n\n* User Interface\n\n    주소표시줄, 이전/다음/새로고침 버튼 등 웹페이지를 제외하고 사용자와 상호작용하는 사용자 인터페이스이다.\n\n* Browser Engine\n\n    유저인터페이스와 렌더링 엔진을 연결하는 브라우저 엔진\n\n* Rendering Engine\n\n    HTML과 CSS를 파싱하여 요청하는 웹 페이지를 표시하는 렌더링 엔진\n\n* Networking\n\n    각종 네트워크 요청을 수행하는 네트워킹 파트\n\n* JavaScript Interpreter\n\n    자바스크립트 코드를 실행하는 인터프리터 (크롬의 경우 V8을 사용하는 엔진)\n\n* UI Backend\n\n    체크박스나 버튼과 같은 기본적인 위젯을 그려주는 UI Backend 파트\n\n* Data Science\n\n    localStorage나 Cookie와 같이 보조 기억 장치에 데이터를 저장하는 파트\n\n\n# Rendering Engine\n\n\u003caside\u003e\n  \u003cp className={\"text\"}\u003e💡\u0026nbsp;\u0026nbsp;웹 브라우저마다 렌더링 엔진이 다르다\u003c/p\u003e\n  * Chrome은 Blink, 신형 Edge\n  * Safari는 Webkit\n  * Firefox는 Gecko\n  * Trident은 IE\n\u003c/aside\u003e\n\n## Rendering Engine의 역할\n✔️ HTML, CSS, JS, 이미지 등 웹페이지에 포함된 모든 요소들을 화면에 보여준다.\n\n✔️ 업데이트\u003cspan style={{color: \"rgb(163 163 163)\"}}\u003e(사용자 동작으로 인해서 입력이 발생한다던가, 스크롤이 생겼다던가 등의 업데이트)\u003c/span\u003e가 필요할 때, 효율적으로 렌더링을 할 수 있도록 자료 구조를 생성한다.\n\n## Rendering Engine의 동작 과정: Critical Rendering Path(CRP)\n\n브라우저가 페이지의 초기 출력을 위해 실행해야 하는 순서\n\n\u003cimg width=\"1685\" style={{margin:\"20px 0\"}} alt=\"rendering-engine\" src=\"https://github.com/COYO-HM/COYO-HM.github.io/assets/56423604/e7ec1ccb-2414-4f31-851a-a8a3c7b5a37f\"/\u003e\n\n\n\u003cimg style={{margin:\"20px 0 5px\"}} alt={\"renderer-process\"} src={\"https://user-images.githubusercontent.com/56423604/268993997-6460af95-26ae-4798-a1da-d9f008ebabc6.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [Blink의 Renderer Process](https://docs.google.com/document/d/1aitSOucL0VHZa9Z2vbRJSyAIsAz24kX8LFByQ5xQnUg/edit#heading=h.v5plba74lfde)\u003c/div\u003e\n\n### 1. DOM Tree와 CSSOM Tree의 생성\n\n먼저 브라우저에서 사용자가 요청한 웹페이지에 문서를 불러오고 HTML tag들을 토큰화(Tokenizer)한다.\n\n토큰화한 후에 브라우저가 렉싱(Lexing) 과정을 통해 토큰을 해당 속성과 규칙을 정의하는 노드 객체로 변환한다.\n\n파싱(Parsing) 과정을 통해 각 노드가 서로 연관성을 가질 수 있도록 트리를 생성한다 ⇒ DOM Tree 생성\n\nHTML 문서에 잇는 모든 것들은 DOM을 구성한다.\n\n최상위에는 `document` 객체가 들어가고 태그는 element node(html)가 되고 태그의 요소는 attribute node, text node가 되어 트리 구조로 생성한다(이외에도 주석은 comment node가 되어 생성된다).\n\n\u003cimg style={{margin:\"20px 0 5px\"}} alt={\"Constructing-the-Object-Model\"} src={\"https://user-images.githubusercontent.com/56423604/269012635-a403bf07-45b5-43ef-9c4a-996671ed7693.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [Blink의 Renderer Process](https://docs.google.com/document/d/1aitSOucL0VHZa9Z2vbRJSyAIsAz24kX8LFByQ5xQnUg/edit#heading=h.v5plba74lfde)\u003c/div\u003e\n\nHTML을 DOM 트리로 만드는 과정과 비슷하게 CSS의 경우 CSSOM Tree가 만들어진다. \u003cbr/\u003eDOM 생성하는 동안 CSS 스타일시트 링크 태그를 접하고 리소스에 대해 요청한다.\n\nCSS도 브라우저가 이해하고 처리할 수 있도록 CSSOM Tree로 변환한다.\u003cbr/\u003eCSSOM은 DOM이 어떻게 화면에 표시될 지를 알려주는 역할을 한다.\n\n\u003cimg style={{margin:\"20px 0\"}} alt={\"CSSOM\"} src={\"https://user-images.githubusercontent.com/56423604/269015530-9fd4cab4-6050-4ed4-a5b3-90c6cdc45d41.png\"}/\u003e\n\u003cimg style={{margin:\"0 0 5px\"}} alt={\"CSSOM\"} src={\"https://user-images.githubusercontent.com/56423604/269018447-1195e2fe-e57e-4128-8565-d1679fb2e260.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [Blink의 Renderer Process](https://docs.google.com/document/d/1aitSOucL0VHZa9Z2vbRJSyAIsAz24kX8LFByQ5xQnUg/edit#heading=h.v5plba74lfde)\u003c/div\u003e\n\n\n### 2. Render Tree 생성\n\n\u003caside\u003e\n  \u003cp className={\"text-lg\"}\u003e📖\u0026nbsp;\u0026nbsp;Render Tree\u003c/p\u003e\n  - 렌더링 엔진이 DOM Tree와 CSSOM Tree를 합쳐서 만든 트리\n  - 화면에 표시되어야 할 모든 노드의 컨텐츠, 스타일 정보를 포함하는 트리\n\u003c/aside\u003e\n\ndocument 객체부터 각 노드를 순회하면서 각각의 맞는 CSSOM를 찾아서 규칙을 적용하며 렌더와 관련된 요소들을 렌더 트리에 포함시킨다.\n\n이 때, `meta tag`나 `display: none` 속성을 가진 요소들은 렌더와 관계가 없기에 렌더 트리에 포함되지 않는다.\n\n\u003cimg style={{margin:\"20px 0 5px\"}} alt={\"Render_Tree_Construction_Layout_and_Paint\"} src={\"https://user-images.githubusercontent.com/56423604/269020715-b0948780-e34b-4b57-b809-8e78fd6c0c38.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [[Critical Rendering Path] Render-Tree Construction, Layout, and Paint](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=ko)\u003c/div\u003e\n\n### 3. Render Tree 배치: Layout(Reflow)\n\nRender Tree 가 생성되면 Layout(Reflow)이라는 과정을 거친다. viewport 내에서 요소들에 정확한 위치와 크기를 (모든 스타일 속성이) 계산하는 과정이다.\n\n이때 `%`, `em`과 같은 상대적인 단위를 사용했을 때는 viewport 에 맞춰서 픽셀단위로 변환된다.\n\n### 4. Render Tree 그리기: Paint(Repaint)\n렌더링 엔진이 각 요소들이 실제로 그려지는 과정이다.\n\n\n# UI가 업데이트 되는 3가지 상황\n\n위에는 브라우저가 페이지의 초기 출력을 위해 실행해야 하는 순서라면, UI가 사용자와의 상호작용 통해 업데이트 경우가 존재한다.\n과정이 1 \\\u003c 2\\\u003c 3 순으로 적기에 높은 숫자일수록 성능이 우수하다.\n\n## 1. Layout 이 다시 발생하는 경우\n\u003cspan style={{fontSize: \"18px\", fontWeight:\"700\"}}\u003e: JavaScript → Style → Layout → Paint → Composite\u003c/span\u003e\n\n* 주로 요소의 크기나 위치가 바뀔 때, 혹은 브라우저 창의 크기가 바뀌었을 때 다시 발생\n* 이 때, 레이아웃 수치를 다시 계산해서 재배치 해야 하기에 레이아웃 과정과 페인트, 레이어 합성 과정이 다시 발생한다.\n\n## 2. Paint 부터 다시 발생하는 경우\n\u003cspan style={{fontSize: \"18px\", fontWeight:\"700\"}}\u003e: JavaScript → Style → Paint → Composite\u003c/span\u003e\n\n* 주로 배경 이미지나 텍스트 색상, 그림자 등 레이아웃의 수치를 변화시키지 않는 스타일의 변경이 일어났을 경우 발생\n* 레이아웃이 변경되지 않기에 성능적으로 1번보다 더욱 우수\n\n## 3. 레이어의 합성(Composite)만 다시 발생하는 경우\n\u003cspan style={{fontSize: \"18px\", fontWeight:\"700\"}}\u003e: JavaScript → Style → Composite\u003c/span\u003e\n\n* Layout과 Paint를 수행하지 않고 레이어의 합성만 발생하기에 성능적으로 가장 우수한 케이스이다.\n* 레이어란 페인팅할 영역을 나누어 놓는 것을 의미한다. 크롬의 경우에는 Layout 과정 이후에 정해진 기준이나 필요에 의해 브라우저가 레이어를 생성한다.\n* 렌더 트리에 있는 노드 객체들은 생성된 레이어에 포함된다. 레이어들은 트리 형태 구성된다.\u003cbr/\u003e\n    → 렌더링 엔진이 각 레이어를 프린팅 과정에서 각각 그려 준 다음에 하나의 비트맵으로 합성하여 페이지를 완성한다.\n\n아래의 사이트에서 CSS 속성마다 렌더링 엔진별로 UI가 어떻게 업데이트 되는지 알 수 있다.\n\u003ca href={\"https://csstriggers.com/\"} target={\"_blank\"} style={{cursor:\"pointer\"}}\u003e\n  \u003cimg width={400} style={{margin:\"20px auto\"}} alt={\"css-Triggers-List-2\"} src={\"https://user-images.githubusercontent.com/56423604/269030495-c1f213be-82eb-423b-a80d-20858694b7de.png\"}/\u003e\n\u003c/a\u003e\n\n# 개발자 도구로 리렌더 과정 살펴 보기\n실습은 해당 사이트에서 진행되었습니다. : [Rendering Engine Practice](https://coyo-hm.github.io/rendering_engine_practice/)\n\n## align-items 를 변경하는 경우\n\n\u003cimg style={{margin:\"20px 0 5px\"}} alt={\"cssom-align-items\"} src={\"https://user-images.githubusercontent.com/56423604/269034349-fb2298eb-12cc-481b-b0c0-f40eaaf4577c.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [CSS Triggers List – What Kind of Changes You Can Make](https://csstriggers.com/)\u003c/div\u003e\n\n* Blink\n\nCSS Triggers 에 따르면, Blink 기준으로 Layout 부터 다시 발생(: JavaScript → Style → Layout → Paint → Composite)한다.\n\u003cimg style={{margin:\"20px 0\"}} alt=\"blink-align-items\" src=\"https://user-images.githubusercontent.com/56423604/269039092-99232f88-01cf-4cd6-ae7e-805200bb5c47.png\"/\u003e\n개발자 도구 performance 탭을 살펴보면 Recalculate → Layout → Pre Paint → Paint → Layerize → Commit 순서로 렌더링 되었음을 확인할 수 있다.\n\n## border-right-color 을 변경하는 경우\n\n\u003cimg style={{margin:\"20px 0 5px\"}} alt={\"cssom-border-right-color\"} src={\"https://user-images.githubusercontent.com/56423604/269040996-650204fc-3c75-4da8-b1d5-7ea6aa7ff5f0.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [CSS Triggers List – What Kind of Changes You Can Make](https://csstriggers.com/)\u003c/div\u003e\n\n* Blink\n\n    `border-right-color`를 바꾸는 경우에는 위의 설명에도 나와 있고 CSS Triggers 에서도 Blink 기준으로 Paint 부터 다시 발생(: JavaScript → Style → Paint → Composite)하는 것을 알 수 있다.\n\u003cimg style={{margin:\"20px 0\"}} alt=\"blink-border-right-color\" src=\"https://user-images.githubusercontent.com/56423604/269042941-cf22c84c-0d19-4655-af70-70ce9ec34b36.png\"/\u003e\n\n\n## background-color 을 변경하는 경우\n\n\u003cimg style={{margin:\"20px 0 5px\"}} alt={\"cssom-background-color\"} src={\"https://user-images.githubusercontent.com/56423604/269041943-6ed739dd-3d9d-4737-9aa1-390f1ff09a1c.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [CSS Triggers List – What Kind of Changes You Can Make](https://csstriggers.com/)\u003c/div\u003e\n\n* Blink\n\n    `background-color`를 바꾸는 경우에는 위의 설명에도 나와 있고 CSS Triggers 에서도 Blink 기준으로 Paint 부터 다시 발생(: JavaScript → Style → Paint → Composite)하는 것을 알 수 있다.\n\u003cimg style={{margin:\"20px 0\"}} alt=\"blink-border-right-color\" src=\"https://user-images.githubusercontent.com/56423604/269042941-cf22c84c-0d19-4655-af70-70ce9ec34b36.png\"/\u003e\n\n\n\n## opacity 를 변경하는 경우\n\n\u003cimg style={{margin:\"20px 0 5px\"}} alt={\"cssom-opacity\"} src={\"https://user-images.githubusercontent.com/56423604/269042111-bb3c95ca-2874-4677-81f1-26569fc269de.png\"}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 15px\"}}\u003e이미지 출처: [[CSS] opacity는 reflow가 발생 안 한다구요...? 정말??](https://blinders.tistory.com/93)\u003c/div\u003e\n\nCSS Triggers 에 따르면, Blink 기준으로 Paint 부터 다시 발생(: JavaScript → Style → Paint → Composite)한다.\n\n그런데 처음에 `opacity`를 기본값인 1에서 0으로 변하고 1로 변할때 layout 과정이 발생한 것을 발견할 수 있었다.\n\n\u003cimg style={{margin:\"20px 0\"}} alt=\"blink-opcity2\" src=\"https://user-images.githubusercontent.com/56423604/269047824-78cadf35-afc2-4743-b7c6-20c7a9807ecb.png\"/\u003e\n\n이에 대해 찾아보니 위에서 말했듯이 브라우저가 코드를 렌더링하기 위해서는 HTML를 파싱하여 DOM Tree를 구성하고 DOM Tree와 CSSOM Tree를 하나로 합쳐 Render Tree로 만들고, 그 Render Tree를 바탕으로 Layer(레이어)를 구성한다.\n\n이때 이 레이어가 실제 포토샵에서 쓰는 레이어와 비슷한 의미의 언어로 층을 의미하는데, 브라우저는 레이어를 쌓아가며 화면을 구성하여 우리에게 보여준다. 앞에 레이어에 가려진 것을 뿐 뒤에 레이어에도 엄연히 화면이 그려진 3차원이라고 볼 수 있다.\n이를 [`Stacking Context`](https://developer.mozilla.org/ko/docs/Web/CSS/CSS_positioned_layout/Understanding_z-index/Stacking_context)라고 하며 MDN에서는 `가상의 Z축을 사용한 HTML 요소의 3차원 개념화`이라고 한다.각각의 HTML 요소는 자신의 속성에 따른 우선순위를 사용해 3차원 공간을 차지한다.\n\n`Stacking Context`는 조건에 따라 `document` 어디에서나 다음 조건을 만족하는 element가 생성된다.\n\n* document의 root element. (`\u003chtml\u003e`)\n* position이 absolute 또는 relative이고, z-index가 auto가 아닌 요소.\n* position이 fixed 또는 sticky인 요소. (sticky는 모든 모바일 브라우저에서는 해당하지만 구형 데스크톱 브라우저에서는 해당하지 않음)\n* 플렉스(flexbox (en-US)) 컨테이너의 자식 중 z-index가 auto가 아닌 요소.\n* 그리드(grid (en-US)) 컨테이너의 자식 중 z-index가 auto가 아닌 요소.\n* opacity가 1보다 작은 요소. (불투명도 명세 참고)\n* mix-blend-mode가 normal이 아닌 요소.\n* 다음 속성 중 하나라도 none이 아닌 값을 가진 요소.\n  * transform\n  * filter\n  * perspective (en-US)\n  * clip-path\n  * mask / mask-image (en-US) / mask-border (en-US)\n* isolation이 isolate인 요소.\n* -webkit-overflow-scrolling이 touch인 요소.\n* will-change의 값으로, 초깃값이 아닐 때 새로운 쌓임 맥락을 생성하는 속성을 지정한 요소.\n* contain이 layout, paint, 또는 둘 중 하나를 포함하는 값(strict, content 등)인 요소.\n\n우리는 여기서 `* opacity가 1보다 작은 요소. (불투명도 명세 참고)` 요 부분에 주목할 필요가 있다.\n설정한 에니메이션에서는 기본값인 opacity 1에서 0으로 변화했다가 다시 1로 변화했기에 해당 요소가 별도의 레이어를 가졌다는 것을 알 수 있다.\n그래서 레이아웃 과정부터 요소들을 재계산하고 레이어를 생성하여 재배치해줄 과정이 필요한 것이다.\n\n그래서 처음부터 opacity 값을 1보다 작은 0.99로 주고 0으로 변한 후 다시 0.99로 돌아왔을 경우에는 다음과 같이 우리가 원했던 Paint 부터 시작되는 것을 볼 수 있었다.\n\n\u003cimg style={{margin:\"20px 0\"}} alt=\"blink-opcity1\" src=\"https://user-images.githubusercontent.com/56423604/269052188-a640204a-4c53-405f-aade-aefa052dede6.png\"/\u003e\n\n# 참조\n- [[10분 테코톡] ☕️ 체프의 브라우저 렌더링](https://www.youtube.com/watch?v=sJ14cWjrNis)\n- [브라우저의 렌더링 과정 \u0026 Render Tree와 DOM Tree의 차이점](https://hyojin96.tistory.com/entry/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EC%9D%98-%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B3%BC%EC%A0%95-Render-Tree%EC%99%80-DOM-Tree%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90)\n- [[Critical Rendering Path] Render-Tree Construction, Layout, and Paint](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction?hl=ko)\n- [Constructing the Object Model](https://developers.google.com/web/fundamentals/performance/critical-rendering-path/constructing-the-object-model?hl=ko)\n- [Render-tree Construction, Layout, and Paint](https://web.dev/critical-rendering-path-render-tree-construction/?hl=ko)\n- [Blink의 Renderer Process](https://docs.google.com/document/d/1aitSOucL0VHZa9Z2vbRJSyAIsAz24kX8LFByQ5xQnUg/edit#heading=h.v5plba74lfde)\n- [[CSS] opacity는 reflow가 발생 안 한다구요...? 정말??](https://blinders.tistory.com/93)\n- [[MDN] Stacking Context](https://developer.mozilla.org/ko/docs/Web/CSS/CSS_positioned_layout/Understanding_z-index/Stacking_context)","fields":{"slug":"blog/network/browser-rendering"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/network/browser-rendering.mdx"},{"frontMatter":{"date":"2023-09-06T00:00:00","title":"Yarn Berry는 왜 빠른가?","tags":["npm","yarn","yarn berry"],"description":"yarn berry pnp에 대해 알아보자","published":true},"body":"\u003caside\u003e\n  \u003cp className={\"text-lg\"}\u003e📖\u0026nbsp;\u0026nbsp;패키지 매니저(package manager)\u003c/p\u003e\n\n  package manager 는 package를 다루는 작업(설치, 업데이트, 수정, 삭제 등)의 작업을 편리하고 안전하게 수행하기 위해 운영체제와 프로그래밍 언어에서 사용되는 툴이다.\n\n  공통적으로, 아래의 기능들을 제공한다.\n\n  - 패키지의 dependency(의존성)를 관리한다. : 모든 dependencies 일괄 설치 또는 업데이트 / dependencies 추가, 업데이트, 삭제\n  - 패키지의 보안을 관리 : 신뢰성(authenticity, 확실성: 출처가 확실함)과 무결성(integrity)을 보장한다.\n  - 여러 패키지를 기능에 따라 그룹으로 묶어서 관리한다.\n  - 패키지 압축 해제\n  - Software repository로부터 패키지를 찾고, 다운로드하고, 설치하고, 업데이트\n  - metadata 작성 및 관리\n  - 스크립트 실행\n  - 패키지 퍼블리시\n  - Ubuntu 운영체제의 apt(Advanced Package Tool)가 대표적인 운영체제 패키지 매니저의 예로 콘솔을 사용한 sudo apt-get install 명령어를 통해 패키지를 설치할 수 있다.\n  - Python과 PHP, Node.js 등 많은 프로그래밍 언어들은 각각 자신만의 패키지 매니저와 software repository를 가지고 있다.\n  - JavaScript에는 npm, yarn berry(yarn 2.0+), yarn classic(yarn 1.0), pnpm 등이 존재한다.\n\u003c/aside\u003e\n\n\u003caside\u003e\n  \u003cp className={\"text-lg\"}\u003e📖\u0026nbsp;\u0026nbsp;패키지(package)\u003c/p\u003e\n\n  라이브러리(library)와 유사한 개념으로 라이브러리가 코드의 작성을 위해 사용되는 코드의 묶음이라면, 패키지는 코드의 배포를 위해 사용되는 코드의 묶음이다. 따라서 패키지는 경우에 따라 라이브러리를 포함할 수 있으며, 일반적으로 라이브러리나 실행 파일(executable)을 포함한다.\n\n  패키지는 다음 3가지 정보를 가지고 있는 코드의 배포 단위이다.\n\n  - 컴파일한 소프트웨어의 바이너리(binary)\n  - 환경 설정(configuration)에 관련된 정보\n  - 의존(dependency)에 관련된 정보\n\u003c/aside\u003e\n\n\u003caside\u003e\n  \u003cp className={\"text-lg\"}\u003e📖\u0026nbsp;\u0026nbsp;의존성(dependency)\u003c/p\u003e\n\n  많은 패키지들은 반드시 필요한 다른 패키지들이 존재할 수 있다. 이에 대해 기본 패키지를 제대로 동작시키기 위해 필요한 다른 패키지를 dependency라고 말한다.\n\n  - 패키지를 사용하고자 할때 dependency에 해당되는 다른 패키지들을 전부 설치해줄 필요가 있다.\n\n  ⇒ 패키지의 dependency를 위해 설치한 패키지에도 dependency가 존재할 수 있으면 이러한 현상이 연속적으로 발생할 수 있다. 또한 같은 패키지의 다른 버전을 요구할 수도 있다. 이러한 상황을 dependency hell 이라고 한다.\n\n  dependency hell이 발생하면 사용자가 수동으로 패키지를 관리하기에 쉽지 않기에 이러한 상황을 해결하고자 패키지 매니저를 사용한다.\n\u003c/aside\u003e\n\n# Yarn이란?\n\n\u003e `Yet Another Resource Negotiator`의 약자로 Node.js에서 만든 새로운 패키지 관리 시스템이다.\n\u003e\n- [링크된 GitHub 레포](https://github.com/yarnpkg/berry)에서 소스코드를 확인할 수 있다.\n- `Yarn`은 1.0과 2.0이 존재하는데 1.0을 `yarn classic`, 2.0을 `yarn berry`라고 한다. 두 버전에도 큰 차이점들이 존재한다.\n- 대부분의 개념과 프로세스에 npm을 기반으로 설계했지만, 이외에 npm과 대조적으로, yarn은 초기버전의 npm의 주요 문제점 중 하나였던 설치 프로세스의 속도를 높이기 위해 작업을 병렬화하는 등 패키지 관리자 환경에 큰 영향을 미쳤다.\n\n# Yarn Classic\n\n- \u003cspan className={\"text-blue-700\"}\u003e`npm`과 동일하게 `node_modules` 내부에 flat하게 패키지를 설치하여 (=동일한 디렉토리에 flat하게 저장) 관리\u003c/span\u003e : 매 탐색마다 수 많은 폴더와 파일을 실제로 열고 닫으면서 검색할 수 밖에 없으며, `node_modules` 중첩 등 경우에 따라서는 순회해야 하는 경로가 이보다 복잡해질 수 있다.\n- 패키지 병렬적으로 설치\n- native 모노레포 지원: `javascript`와 native 코드 간의 참조 관계를 통해 모듈이 설치가 되거나 실행이 된다.\n- cache-aware 설치\n- 오프라인 캐싱: 오프라인 미러 활용으로 오프라인에서도 패키지 설치 가능\n- lock 파일: `yarn.lock` 파일을 자동 생성하고 의존 모듈을 순서대로 적어둠 ⇒ lock 파일의 장점으로 특정 버전만 설치가 가능\n\u003caside className={'ml-7'}\u003e\n  \u003cp className={\"text-lg\"}\u003e📖\u0026nbsp;\u0026nbsp;lock 파일\u003c/p\u003e\n\n  매 설치시 결정적이고 (= 항상 같은 버전을 설치하고) 예측가능한 특성을 보장하기 위하여, 각 버전의 정확한 의존성 버전을 저장하고 있는 파일\n\n  `package.json`은 정확한 버전이 기재되어 있는 것이 아니고, `\u003e= 1.2.5`와 같은 형식의 버전 범위이 존재하기에 `lock` 파일이 없다면 매 설치마다 설치하는 버전이 달라질 수 있다.\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/265745060-76db5c1d-f6e2-430c-819a-7ee268976180.png\"} alt={\"yarn-berry-pnp-lock\"}/\u003e\n\u003c/aside\u003e\n\n# Yarn Berry\n\n\u003e Yarn 의 2.0 이후의 버전이며 현재 업데이트 되고 있는 버전이다.\n\u003caside className={'ml-7'}\u003e\n  \u003cp className={\"text\"}\u003e💡\u0026nbsp;\u0026nbsp;`Yarn Berry`는 `Yarn Classic` 환경 위에서 동작한다.\u003c/p\u003e\n\n  Yarn Berry를 설치하게 되면 `.yarn` 안에 `releases` 디렉토리가 생성되고 그 안에 `yarn-3.6.3.cjs` 파일이 생성된 것을 확인할 수 있다.\n\n  ![yarn-berry-pnp-cjs](https://user-images.githubusercontent.com/56423604/265746436-b091eaf3-ff5f-4c26-8060-754db6bc8945.png)\n\u003c/aside\u003e\n\n## Plug'n'Play(PnP)\n\n\u003e [Plug'n'Play(PnP)](https://yarnpkg.com/features/pnp)\n\u003e\n\u003e  node가 모듈을 검색하는 방식\n\n- `node_modules` 방식이 아닌 pnp 방식을 이용하여 `node_modules` 디렉토리에 모든 패키지를 설치하는 것이 아닌, 패키지들을 zip 파일로 압축하여 사용 ⇒ 용량이 훨씬 적으므로 특히 docker 이미지를 생성하기 위한 복사 단계 소요시간이 단축\n- `node_modules` 을 생성하지만, 의존성 조회 테이블이 있는 `.pnp.cjs` 파일 생성\n\n    해당 파일에는 관련된 패키지 이름과 버전, 위치, 의존성 리스트 등이 적혀 있다.\n\n    ⇒ 폴더가 아닌 파일이기에 효율적인 처리\n\n- 모든 패키지는 `.yarn/cahce/` 에 zip 파일로 저장됨 ⇒ 압축된 용량\n\n    ⇒ Yarn berry 에서는 다수의 파일(`node_modules`)을 설치하지 않고(: \u003cspan className={\"text-blue-700\"}\u003eZero-Installs\u003c/span\u003e), 한개의 텍스트 파일(`.pnp.cjs`)을 만들면 된다(실제 파일은 zip 형태로 `yarn/cache` 에 저장)\n\n### Zero-Install\n`.yarn/cahce/`가 `node_modules`보다 현저하게 사이즈가 작기 때문에 git 에서 관리할 수 있다. 레포지토리에 zip파일을 포함시켜서 커밋을 하기때문에 별도로 패키지들을 다운로드할 필요가 없다.\n\n\n# Yarn Berry와 NPM 비교하기 : PnP 알아보기\n\n🔗 test project : https://github.com/COYO-HM/package_test.git\n\n`vite`의 vanila template를 사용하여 `typesciript`를 적용한 프로젝트를 생성하였다.\n\n## package.json\n\u003cdiv className={\"flex gap-4\"}\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/265748898-830c80d2-db14-4c43-ae14-b65869616496.png\"} alt={\"yarn-berry-pnp-package-npm\"} width={\"50%\"}/\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/265748890-5c997df2-ae92-470d-bf02-638c4b4c0472.png\"} alt={\"yarn-berry-pnp-package-yarn\"} width={\"50%\"}/\u003e\n\u003c/div\u003e\n\n## 프로젝트 디렉토리 비교\n우선 `package-lock.json` 대신에 `yarn.lock`이 존재하는 것을 확인할 수 있다.\n\n그리고 두드러지는 차이는 `yarn berry`는 `node_modules`가 없는 것을 확인할 수 있다. 그 대신에 `.yarn`이라는 디렉토리가 존재한다.\n\n\u003cdiv className={\"flex gap-4\"} style={{alignItems: \"flex-start\", marginBottom: \"20px\"}}\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/265750887-71636302-0d9d-48d4-a4be-5bae8c292c8f.png\"} alt={\"yarn-berry-pnp-dir-npm\"} width={\"50%\"} /\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/265750878-bdda4f9a-e356-4d35-9305-0cad148ee22e.png\"} alt={\"yarn-berry-pnp-dir-yarn\"} width={\"50%\"} /\u003e\n\u003c/div\u003e\n\n\n`package.json`에 확인해보면 이 프로젝트가 의존성을 가지고 있는 패키지는 `typescript`, `vite`, `@mui/material`, `@mui/styled-engine-sc`, `styled-components` 이다.\n\n그런데 `node_modules`를 살펴보면 우리가 설치하지 않은 수 많은 패키지들이 있는 것을 확인할 수 있다. 위에서 언급 했던 설치한 패키지들이 의존성을 가지고 있는 패키지들이 더불어 설치된 것을 확인힐 수 있다.\n\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265752989-2724e411-dbbb-43fe-bd67-dbe5d8acb1c0.png\"} alt={\"yarn-berry-pnp-node-modules\"} style={{margin:\"20px auto\"}}/\u003e\n\n\n`yarn berry` 역시 살펴보면, `.yarn/cache` 파일에 수많은 패키지들이 디렉토리가 아닌 압축된 파일(.zip)로 저장된 것을 확인할 수 있다.\n\n\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265754149-e1957d79-1af6-4037-9080-d16cfaeb3a91.png\"} alt={\"yarn-berry-pnp-size-node-modules\"} style={{margin:\"20px auto\"}}/\u003e\n\n둘의 크기를 비교해보면 `node_modules`는 121M, `.yarn/cache`는 49M 으로 확연하게 `yarn berry`가 작은 것을 확인할 수 있다.\n\n\u003cdiv style={{display: \"flex\", gap: \"16px\", alignItems: \"flex-start\", margin: \"20px 0\"}}\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/266036292-83bef4bd-9090-4b96-94e4-614cac43f870.png\"} alt={\"yarn-berry-pnp-size-node-modules\"} width={\"50%\"}/\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/266036898-46efcf60-87e7-4287-8fbd-a299c3fce307.png\"} alt={\"yarn-berry-pnp-size-cache\"} width={\"50%\"}/\u003e\n\u003c/div\u003e\n\n\n\n\n다만 같은 패키지를 설치한 상태임에도 불구하고 `node_modules`는 66개의 디렉토리를 가지고 있고, `.yarn/cache`에는 366개의 zip 파일이 있다.\n\n`.yarn/cache`를 살펴보면 다음과 같이 같은 패키지가 여러 버전으로 설치된 것을 확인할 수 있다.\n\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265757847-720f6db4-e66d-46d9-9b28-6ebe786c46e8.png\"} alt={\"yarn-berry-pnp-yarn-cache-duplicated\"} width={\"90%\"} style={{margin:\"20px auto\"}}/\u003e\n\n그런데 `node_modules`를 보면 해당 패키지 이름을 가진 하나의 디렉토리만이 존재하는 것을 볼 수 있다. 해당 디렉토리를 보면 18.2.0의 버전만이 설치되었다.\n\n\u003cdiv style={{display: \"flex\", gap: \"16px\", alignItems: \"flex-start\", margin: \"20px 0\"}}\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/265759770-d6f250c4-ef45-49bc-a714-979396f0d9f7.png\"} alt={\"yarn-berry-pnp-size-npm-reactjs\"} width={\"50%\"}/\u003e\n  \u003cimg src={\"https://user-images.githubusercontent.com/56423604/265759767-03b6f435-2cf8-4772-a07f-2360594dc49c.png\"} alt={\"yarn-berry-pnp-size-npm-reactjs-ver\"} width={\"50%\"}/\u003e\n\u003c/div\u003e\n\n그러면 16.x.x 버전은 어디에 설치된 것일까? `package-lock.json`를 확인해 볼 수 있다.\nhoist-non-react-statics와 prop-types에서 reactjs의 16.x.x 버전이 각각의 디렉토리 안에 중복되어 설치된 것을 확인할 수 있다.\n\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265760444-147a6f69-fdc7-4514-8938-82923f237f16.png\"} alt={\"yarn-berry-pnp-size-npm-reactjs-0\"} style={{margin:\"10px auto\"}}/\u003e\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265760436-e2e510f7-345f-435e-9b62-6165da434963.png\"} alt={\"yarn-berry-pnp-size-npm-reactjs-1\"} style={{margin:\"10px auto\"}}/\u003e\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265760432-ea9f3c67-7320-4e6d-b9f4-337acfec13aa.png\"} alt={\"yarn-berry-pnp-size-npm-reactjs-2\"} style={{margin:\"10px auto\"}}/\u003e\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265760426-9291d8f8-6d84-4b8d-81f0-80d641e0e750.png\"} alt={\"yarn-berry-pnp-size-npm-reactjs-3\"} style={{margin:\"10px auto\"}}/\u003e\n\n`npm`은 같은 패키지에 대해 먼저 설치된 버전을 우선 설치하고 다른 패키지에 이미 설치된 패키지에 대하여 의존성이 있을 때 버전이 같은 경우에는 이미 설치된 패키지를 사용하지만 다른 버전이 필요할 경우 하위 `node_modules`에 해당 디렉토리를 설치한다.\n\n그렇기 때문에 같은 프로젝트여도 패키지 설치 순서에 따라 `node_modules`가 달라질 수 있으며 중복되어 패키지가 설치될 수 있기에 디스크가 낭비된다.\n\n반면에 `yarn berry`는 `.yarn/cache`에 일괄적으로 모든 패키지를 설치한다. 이로인해 `yarn berry`는 `npm`과 다르게 같은 의존성을 가진 프로젝트의 경우 일관된 `.yarn/cache`를 보장한다.\n\n또한, `npm`의 경우 하나의 패키지가 삭제되면 해당 패키지의 의존성으로 인해 설치된 패키지가 다른 패키지에 의존성이 있을까 염두하여 삭제되지 않는다. 이러한 현상을 유령 의존성(Phantom Dependency)이라고 한다.\n\n\u003cimg src={\"https://user-images.githubusercontent.com/56423604/265774377-18c51d14-4f7b-42e6-865d-c371c8de236e.png\"} alt={\"yarn-berry-pnp-Phantom-Dependency\"} width={\"100%\"} style={{margin:\"20px auto 5px\"}}/\u003e\n  \u003cdiv style={{color: \"rgb(163 163 163)\", fontSize:\"12px\", margin: \"0 0 10px\"}}\u003e이미지 출처: 토스 테크 블로그 [node_modules로부터 우리를 구원해 줄 Yarn Berry](https://toss.tech/article/node-modules-and-yarn-berry)\u003c/div\u003e\n\n\n반면에 `yarn berry`는 `.pnp.cjs`를 확인하여 해당 패키지의 저장 위치, 버전 정보, 참보 정보 등을 담고 있기 때문에 의존성 검색에 더욱이 효율적으로 진행할 수 있을 뿐만 아니라 유령 의존성(Phantom Dependency)을 방지할 수 있다.\n\n```\n[\"styled-components\", [ // 패키지 이름\n  [\"npm:6.0.7\", { // 버전 정보\n    \"packageLocation\": \"./.yarn/cache/styled-components-npm-6.0.7-34b6b5cc79-38645f38f1.zip/node_modules/styled-components/\", // 저장된 위치\n    \"packageDependencies\": [ // 의존성 참조하는 패키지\n      [\"styled-components\", \"npm:6.0.7\"]\n    ],\n    \"linkType\": \"SOFT\"\n  }],\n  ...\n]\n```\n\n\n\n\n# 참조\n- [패키지 매니저(Package Manager)란?](https://aahc.tistory.com/14)\n- [node_modules로부터 우리를 구원해 줄 Yarn Berry](https://toss.tech/article/node-modules-and-yarn-berry)\n- [npm, yarn, pnpm 비교해보기](https://yceffort.kr/2022/05/npm-vs-yarn-vs-pnpm#%EC%84%B1%EB%8A%A5%EA%B3%BC-%EB%94%94%EC%8A%A4%ED%81%AC-%EA%B4%80%EB%A6%AC%EC%9D%98-%ED%9A%A8%EC%9C%A8%EC%84%B1)\n- [[개발] 모노레포에서 react-native의 모듈 해석](https://devethan.medium.com/%EB%AA%A8%EB%85%B8%EB%A0%88%ED%8F%AC%EC%97%90%EC%84%9C-react-native%EC%9D%98-%EB%AA%A8%EB%93%88-%ED%95%B4%EC%84%9D-5a01e4f346cf)\n- https://github.com/itjustbong/fe-package-mono\n- [[Yarn berry] Yarn Berry 환경에 대한 이해도 높이기](https://helloinyong.tistory.com/343)\n- [yarn berry 적용 및 ECS 배포 방식 변경을 통해 빌드/배포 속도 개선하기](https://medium.com/wantedjobs/yarn-berry-%EC%A0%81%EC%9A%A9-%EB%B0%8F-ecs-%EB%B0%B0%ED%8F%AC-%EB%B0%A9%EC%8B%9D-%EB%B3%80%EA%B2%BD%EC%9D%84-%ED%86%B5%ED%95%B4-%EB%B9%8C%EB%93%9C-%EB%B0%B0%ED%8F%AC-%EC%86%8D%EB%8F%84-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0-535a8adff677)\n- [JavaScript package managers compared: npm, Yarn, or pnpm?](https://blog.logrocket.com/javascript-package-managers-compared/)\n- [리멤버 웹 서비스 좌충우돌 Yarn Berry 도입기](https://blog.dramancompany.com/2023/02/%EB%A6%AC%EB%A9%A4%EB%B2%84-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%A2%8C%EC%B6%A9%EC%9A%B0%EB%8F%8C-yarn-berry-%EB%8F%84%EC%9E%85%EA%B8%B0/)\n- [Yarn PnP 프로젝트에서 Commitizen 설정하기](https://imch.dev/posts/commitizen-with-yarn-pnp/)","fields":{"slug":"blog/yarn/yarn-berry-pnp"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/yarn/yarn-berry-pnp.mdx"},{"frontMatter":{"date":"2023-02-22T00:00:00","title":"Github Page로 React 프로젝트 무료로 배포해보기","tags":["JavaScript","React","GithubPage"],"description":"Github Page로 CRA로 만든 프로젝트를 무료로 배포해보자","published":true},"body":"\u003e Github Page\n\u003e\n\u003e github repository에 올린 `javaScript` 프로젝트를 배포하여 정적 웹 사이트를 무료로 호스팅할 수 있게 하는 서비스이다.\n\n이전에 `react`로 만든 프로젝트를 한번 Github Page로 배포해보자.\n\n# Project Github page 라이브러리 설치\n\n```jsx\nnpm i gh-pages --dev\n```\n\n# Package.json 설정하기\n\n`package.json` 에 다음과 같이 홈페이지 주소를 추가해준다.\n\n```jsx\n \"homepage\": \"https://사용자 아이디.github.io/레포지토리 이름/\",\n```\n\n![homepage](/static/images/blog/github-page-publish-01.png)\n\n배포를 위해 `deploy`를 추가해준다.\n\n![deploy](/static/images/blog/github-page-publish-02.png)\n\n다음 명령어를 입력해 배포해준다.\n\n```bash\nnpm run deploy\n```\n\n# Github Page Repository에서 설정\n\n- Repository 메뉴에서 Settings 메뉴로 들어가준다.\n\n![Settings](/static/images/blog/github-page-publish-03.png)\n\n- Settings 메뉴 중에 Pages 메뉴로 들어가면 Branch가 none으로 설정되어 있다.\n\n![Pages](/static/images/blog/github-page-publish-04.png)\n\n- 생성된 gh-pages 브랜치로 설정해준다.\n\n![gh-pages](/static/images/blog/github-page-publish-05.png)\n\n다음과 같이 배포된 것을 확인할 수 있다.\n\n![complete](/static/images/blog/github-page-publish-06.png)\n\n# 참조\n\n- [Github Docs](https://docs.github.com/ko/pages)\n","fields":{"slug":"blog/git/github-page-publish"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/git/github-page-publish.mdx"},{"frontMatter":{"date":"2023-02-13T00:00:00","title":"Intersection Observer API","tags":["JavaScript"],"description":"Intersection Observer API 공식문서 읽고 정리해보기","published":true},"body":"\u003e Intersection Observer API\n\u003e 타겟 요소와 상위 요소 또는 최상위 document의 viewport 사이의 intersection(교차 범위) 내의 변화를 비동기적으로 관찰하는 방법\n\u003e\n\u003e Intersection Observer API 는 그들이 감시하고자 하는 요소가 다른 요소의 viewport에 들어가거나 나갈 때 또는 요청한 부분만큼 두 요소의 교차 부분이 변경될 때 마다 실행될 콜백 함수를 등록할 수 있게 한다.\n\u003e\n\u003e ✔️ 정확히 몇 픽셀 겹쳤는지 알려주는 것이 아닌 N% 정도로 상호작용일 일어났을 경우 발생\n\n```tsx\nconst observer = new IntersectionObserver(callback, options); // 관찰자 초기화\n// callback과 options 두 가지 인수를 전달 받는다.\n\nobserver.observe(element); // 관찰 대상(element) 등록\n```\n\n# Callback\n\n\u003e Intersection Observer API Callback을 생성 조건\n\u003e\n\u003e - target 요소와 root 요소 (기기의 뷰포트나 설정 요소)가 교차할 경우\n\u003e - observer가 최초로 타겟을 관측하도록 요청받을 때마다.\n\ncallback은 entries와 observer를 두가지 인자로 받는다.\n\n```tsx\nconst callback = (\n  entries: IntersectionObserverEntry[],\n  observer: IntersectionObserver\n) =\u003e {};\n```\n\n## entries\n\n: `IntersectionObserverEntry` 의 배열로 `IntersectionObserverEntry`은 다음과 같은 속성들을 포함하고 있다.\n\n```tsx\ninterface IntersectionObserverEntry {\n  readonly boundingClientRect: DOMRectReadOnly;\n  readonly intersectionRatio: number;\n  readonly intersectionRect: DOMRectReadOnly;\n  readonly isIntersecting: boolean;\n  readonly rootBounds: DOMRectReadOnly | null;\n  readonly target: Element;\n  readonly time: DOMHighResTimeStamp;\n}\n```\n\n![entries](/static/images/blog/intersection-observer-API-01.png)\n\n- `boundingClientRect` : target의 DOMReactReadOnly를 반환한다. target의 `Element.getBoundingClientRect()`과 같은 값을 얻을 수 있다.\n  ![boundingClientRect](/static/images/blog/intersection-observer-API-02.png)\n- `intersectionRatio` : target과 root의 교차 영역 비율로 0.0과 1.0 사이의 숫자를 반환한다. (아래 options의 threshold와 관련있다.)\n\n- `intersectionRect` : target과 viewport인 root의 교차 영역에 대한 DOMReactReadOnly를 반환한다.\n  ![intersectionRect](/static/images/blog/intersection-observer-API-03.png)\n- `isIntersecting` : target이 지정한 root 영역에 교차 상태로 들어가는지 여부를 나타내주는 `boolean`값이다.\n\n  `true`: root 내부에 포함\n\n  `false`: root 내부에 포함되지 않음\n\n- `rootBounds` : root 요소에 대한 DOMReactReadOnly를 반환한다. 이는 아래의 `rootMargin`이 반영된 값이며 별도의 root 값을 선언하지 않을 경우 `null`을 반환한다.\n  ![rootBounds](/static/images/blog/intersection-observer-API-04.png)\n- `target` : target의 Element를 반환한다.\n\n- `time` : 문서가 작성된 시간을 기준으로 교차 상태 변경이 발생한 시간을 나타내는 `DOMHighResTimeStamp`을 반환한다.\n\n## observer\n\n\u003e callback을 호출하는 IntersectionObserver\n\n```tsx\ninterface IntersectionObserver {\n  readonly root: Element | Document | null;\n  readonly rootMargin: string;\n  readonly thresholds: ReadonlyArray\u003cnumber\u003e;\n  disconnect(): void;\n  observe(target: Element): void;\n  takeRecords(): IntersectionObserverEntry[];\n  unobserve(target: Element): void;\n}\n```\n\n![observer](/static/images/blog/intersection-observer-API-05.png)\n\n# Options\n\n\u003e observer callback이 호출되는 상황을 조작할 수 있다.\n\n```tsx\nlet options = {\n  root: document.querySelector(\"#scrollArea\"),\n  rootMargin: \"0px\",\n  threshold: 1.0,\n};\n\nlet observer = new IntersectionObserver(callback, options);\n```\n\n## `root`\n\n- target의 가시성을 판단하기 위한 Element 혹은 viewport\n- target의 조상 요소야 한다.\n- 만일 `document`의 루트 요소(기본값)를 기준으로 하기 위해서는 `null` 값 선언\n\n## `rootMargin`\n\n- `root` 가 가지는 `margin`으로 root의 범위를 확장하거나 축소할 수 있다.\n- 기본값은 0px으로 px와 % 단위 사용이 가능하며 반드시 단위를 꼭 입력해주어야 한다(0일지라도).\n- 음수값일 경우 root 요소 축소, 양수값일 경우 root 요소 확장한다.\n\n## `threshold`\n\n- target이 얼만큼 보여졌을 때 observer가 콜백을 실행할 건지 설정하는 option, 기본값은 0이다.\n  만일 target이 50% 만큼 요소가 보여졌을때 탐지하고 싶다면, 값을 0.5로 설정한다. 혹은 25% 단위로 실행되게 하고 싶다면, `[0, 0.25, 0.5, 0.75, 1]` 과 같은 배열을 설정한다.\n- 기본값 0은 target이 1px이라도 보일때 콜백이 실행된다.\n\n# Method\n\n## `IntersectionObserver()`\n\n\u003e options을 참조하여 callback을 호출하는 관찰자를 생성 및 초기화한다.\n\n```tsx\nobserver = new IntersectionObserver(callback, options);\n```\n\n## `observe()`\n\n\u003e 관찰 대상인 target을 설정하고 관찰을 설정한다.\n\n```jsx\nconst element = document.getElementById(\"target\");\nobserver.observe(element);\n```\n\n## `unobserve()`\n\n\u003e 넘겨준 target의 관찰을 종료한다.\n\n```jsx\nobserver.unobserve(element);\n```\n\n## `disconnect()`\n\n\u003e 해당 관찰자의 관찰을 모두 종료한다.\n\n```jsx\nobserver.disconnect();\n```\n\n# 참조\n\n- [MDN Intersection Observer API](https://developer.mozilla.org/ko/docs/Web/API/Intersection_Observer_API)\n","fields":{"slug":"blog/javascript/intersection-observer-API"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/javascript/intersection-observer-API.mdx"},{"frontMatter":{"date":"2023-01-26T00:00:00","title":"TypeScript에서 Redux-ToolKit 사용하기","tags":["React","TypeScript","Redux"],"description":"TypeScript에서 redux-toolkit 설치부터, Store 설정, UseDispatch, UseSelector, CreateSlice(build), CreateAsyncThunk 사용해보기","published":true},"body":"# 설치\n\n```bash\nnpm install @reduxjs/toolkit\n\nyarn add @reduxjs/toolkit\n```\n\n# Store\n\n```TypeScript\nimport { configureStore } from '@reduxjs/toolkit'\n\nexport const store = configureStore({\n  reducer: {},\n})\n\nexport type RootState = ReturnType\u003ctypeof store.getState\u003e;\nexport type AppDispatch = typeof store.dispatch;\n```\n\n`index.tsx`\n\n```TypeScript\nimport React from 'react'\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  \u003cProvider store={store}\u003e\n    \u003cApp /\u003e\n  \u003c/Provider\u003e,\n  document.getElementById('root');\n)\n```\n\n# `UseDispatch`, `UseSelector`\n\n```TypeScript\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { AppDispatch, RootState } from '../Store';\n\nexport const useAppDispatch = () =\u003e useDispatch\u003cAppDispatch\u003e();\nexport const useAppSelector: TypedUseSelectorHook\u003cRootState\u003e = useSelector;\n```\n\n# CreateSlice\n\n`ExampleReducer.ts`\n\n```TypeScript\ninterface IExampleState {\n\t// reducer type들 표시\n\tuserInfo: {name: string, id: string} | null\n}\n\nconst initialState: IExampleState = {\n\t// 초기 상태 설정\n\tuserInfo: null\n}\n\nexport const ExampleSlice = createSlice({\n\tname: 'EXAMPLE',\n\tinitialState,\n\treducers: {\n\t\tupdateName: (state, action) =\u003e {\n\t\t\tstate.userInfo: {\n\t\t\t\t...state.userInfo,\n\t\t\t\taction.payload\n\t\t\t}\n\t\t},\n\t},\n\textraReducers: (builder) =\u003e {\n\t\tbuilder.addcase(getUserInfoAsync.fullfilled, (state, {payload}) =\u003e {\n\t\t\tstate.userInfo = payload\n\t\t})\n\t}\n})\n\nexport const { updateName } = ExampleSlice.actions\nexport const ExampleReducer = {\n\texample: ExampleSlice.reducer\n}\n```\n\n# CreateAsyncThunk\n\n```TypeScript\nexport const getUserInfoAsync = createAsyncThunk\u003c\n  {\n    /*성공시에 출력될 data의 type*/\n  },\n  {\n    /*param의 type*/\n  }\n\u003e('EXAMPLE/getUserInfoAsync', async (param) =\u003e await axios.method('url', param));\n```\n\n# 참조\n\n- [Redux-ToolKit Docs](https://redux-toolkit.js.org/tutorials/quick-start)\n","fields":{"slug":"blog/redux/RTK-with-ts"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/redux/RTK-with-ts.mdx"},{"frontMatter":{"date":"2022-11-14T00:00:00","title":"쿠키와 세션","tags":["Network"],"description":"쿠키와 세션의 각각 특징과 비교","published":true},"body":"[HTTP](https://coyo-hm.github.io/blog/network/http) 환경은 \u003cspan className=\"yellow\"\u003econnectionless, stateless\u003c/span\u003e한 특성을 가지기 때문에 서버는 클라이언트가 누구인지 매번 확인하는 작업이 필요하다.\n또한 사이트가 커짐에 따라 장바구니, 위시리스트 등 클라이언트가 정보를 유지하는 stateful한 성격의 서비스가 점차 증가하였다.\n이러한 배경과 HTTP의 특징을 보완하고 하기 위해 쿠키와 세션을 하게 되었다.\n\n# 쿠키(Cookie)\n\n\u003e 쿠키\n\u003e 클라이언트(브라우저)의 로컬에 저장되는 키와 값이 들어있는 작은 데이터 파일로 쿠키는 클라이언트의 상태 정보를 로컬에 저장했다가 참조한다.\n\n- 사용자 인증이 유효한 시간을 명시할 수 있으며, 유효 시간이 정해지면 브라우저가 종료되어도 인증이 유지된다.\n- 클라이언트에 300개까지 쿠키 저장이 가능하다. 하나의 도메인당 20개의 값만 가질 수 있다. 하나의 쿠키값은 4KB까지 저장한다.\n- Response Header에 Set-Cookie 속성을 사용하면 클라이언트에 쿠키를 만들 수 있다.\n- 쿠키는 사용자가 따로 요청하지 않아도 브라우저가 Request시에 Request Header를 넣어서 자동으로 서버에 전송한다(상당한 트래픽을 발생시킨다).\n\n## 쿠키의 구성 요소\n\n| 이름(name) | 각각의 쿠키를 구별하는 데 사용되는 이름                                                                      |\n| --- |---------------------------------------------------------------------------------------------|\n| 값(value) | 쿠키의 저장된 값                                                                                   |\n| 유효기간(expires) | 쿠키의 유지시간\u003cbr/\u003e쿠키에 만료일이 포함되어 있으면 영구적 쿠키로 간주 데이터를 유지한다.\u003cbr/\u003emax-age 를 통해 지정된 만료일이 되면 쿠키를 삭제한다. |\n| 도메인(domain) | 쿠키가 사용되는 도메인\u003cbr/\u003e해당 값이 현재의 도메인과 다를 경우 타사의 쿠키로 간주하여 브라우저가 거부한다.                              |\n| 경로(path) | 쿠키를 반환할 경로                                                                                  |\n\n\n## 쿠키의 동작 방식\n\n1. 클라이언트가 페이지를 요청\n2. 서버에서 쿠키를 생성\n3. HTTP Header에 쿠키를 포함 시켜 응답\n4. 브라우저가 종료되어도 쿠키 만료 기간이 있다면 클라이언트에서 보관하고 있음\n5. 같은 요청을 할 경우 HTTP Header에 쿠키를 함꼐 보냄\n6. 서버에서 쿠키를 읽어 이전 상태 정보를 변경할 필요가 있을 때 쿠키를 업데이트하여 변경된 쿠키를 HTTP Header에 포함시켜 응답\n\n## 쿠키의 종류\n\n- Session Cookie\n\n    만료 기간을 설정하고 메모리에만 저장되며 세션처럼 브라우저 종료시에 쿠키를 삭제한다.\n\n- Persistent Cookie\n\n    파일로 저장되어 장기간 유지되는 쿠키로 브라우저 종료와 관계없이 사용할 수 있다.\n\n- Secure Cookie\n\n    https에서만 사용되는 쿠키로 쿠키 정보가 암호화 되어 전송된다.\n\n- Third-Party Cookie\n\n    방문한 도메인과 다른 도메인의 쿠키(보통 광고, 배너 등)을 관리할 때 유입 경로를 추적하기 위해 사용된다.\n\n\n# 세션(Session)\n\n\u003e 쿠키에 기반하지만 사용자 정보 파일을 브라우저에 저장하는 쿠키와 달리 서버 측에서 관리한다.\n\n- 서버에서는 클라이언트를 구분하기 위해 식별자인 세션 ID를 부여하고 서버 DB에 정보를 저장하며 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지한다.\n- 접속 시간에 제한을 두어 일정 시간 응답이 없다면 정보가 유지되지 않게 설정이 가능하다.\n- 사용자에 대한 정보를 서버에 두기 때문에 쿠키보다 보안에 좋지만, 사용자가 많아질수록 서버 메모리를 많이 차지하게 된다.\n\n    → 즉 동접자 수가 많은 웹 사이트인 경우 서버에 과부하를 주게 되므로 성능 저하의 요인이 된다.\n\n- 클라이언트가 Request를 보내면, 해당 서버의 엔진이 클라이언트에게 유일한 ID를 부여하는 데 이것이 세션 ID이다.\n\n## 세션의 동작 방식\n\n1. 클라이언트가 서버에 접속 시 세션 ID를 발급 받음\n2. 클라이언트는 세션 ID에 대해 쿠키를 사용해서 저장하고 가지고 있음\n3. 클라리언트는 서버에 요청할 때, 이 쿠키의 세션 ID를 같이 서버에 전달해서 요청\n4. 서버는 세션 ID를 전달 받아서 별다른 작업없이 세션 ID로 세션에 있는 클라언트 정보를 가져와서 사용\n5. 클라이언트 정보를 가지고 서버 요청을 처리하여 클라이언트에게 응답\n\n## 세션의 특징\n\n- 각 클라이언트에게 고유 ID를 부여\n- 세션 ID로 클라이언트를 구분해서 클라이언트의 요구에 맞는 서비스를 제공\n- 보안 면에서 쿠키보다 우수\n- 사용자가 많아질수록 서버 메모리를 많이 차지하게 됨\n\n# 쿠키VS세션\n\n- 쿠키는 서버의 자원을 전혀 사용하지 않고, 세션은 서버의 자원을 사용한다.\n                                                                                                                                                             \n| 특징      | 차이점                                                                                                                                                 |                                  \n|---------|-----------------------------------------------------------------------------------------------------------------------------------------------------|\n| 보안      | 쿠키 \u003cspan\u003e\u0026lt;\u003c/span\u003e 세션, 쿠키는 클라이언트 오컬에 저장되기에 변질되거나 request에서 스니핑 당할 우려가 있어서 보안에 취약하지만 세션은 쿠키를 이용해 세션 ID만 저장하고 따로 구분하여 서버에서 처리하기에 쿠키보다 세션의 보안이 우수하다. |\n| 요청 속도   | 쿠키 \u003cspan\u003e\u0026gt;\u003c/span\u003e 세션, 세션은 서버에 정보가 있기에 서버의 처리가 필요하다.                                                                                              |\n| 라이프 사이클 | 쿠키도 만료 시간이 있지만 파일로 저장되기에 브라우저를 종료해도 정보가 남아있다. 또한 만료 기간을 넉넉하게 잡아두면 쿠키를 삭제할때까지 유지된다.\u003cbr/\u003e반면에 세션도 만료시간을 정할 수 있지만 브라우저가 종료되면 만료시간에 상관없이 삭제된다.           |\n\n\u003caside\u003e\n❓ 세션을 사용하면 좋은데 왜 쿠키를 사용할까?\n\n세션은 서버의 자원을 사용하기 때문에 무분별하게 만들다보면 서버의 메모리가 감당할 수 없어질 수가 있고 속도가 느려질 수 있기 때문에 쿠키가 유리한 경우가 있다.\n\n\u003c/aside\u003e\n\n# 참조\n\n- [쿠키와 세션의 개념](https://interconnection.tistory.com/74)\n","fields":{"slug":"blog/network/cookie-session"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/network/cookie-session.mdx"},{"frontMatter":{"date":"2022-11-10T00:00:00","title":"Axios Intercepter 사용해보기","tags":["React","TypeScript","Axios","JavaScript"],"description":"Axios: Intercepter 사용해보기","published":true},"body":"\u003e Axios Interceptors\n\u003e\n\u003e\n\u003e `then` 또는 `catch`로 처리되기 전에 요청과 응답을 가로챌 수 있다.\n\u003e\n\u003e [출처: Axios Docs Interceptors](https://axios-http.com/kr/docs/interceptors)\n\u003e\n- 요청(request)을 보내기 전이나 응답(response)을 받은 직후 지정된 작업을 수행할 수 있게 한다.\n- Token 처리나 Error 처리에 용이하다.\n\n# Interceptors 추가하기\n\n```tsx\n// 요청 인터셉터 추가하기\naxios.interceptors.request.use(function (config: AxiosRequestConfig) {\n    // 요청이 전달되기 전에 작업 수행\n    return config;\n  }, function (error) {\n    // 요청 오류가 있는 작업 수행\n    return Promise.reject(error);\n  });\n\n// 응답 인터셉터 추가하기\naxios.interceptors.response.use(function (response: AxiosResponse) {\n    // 2xx 범위에 있는 상태 코드는 이 함수를 트리거 합니다.\n    // 응답 데이터가 있는 작업 수행\n    return response;\n  }, function (error: AxiosError) {\n    // 2xx 외의 범위에 있는 상태 코드는 이 함수를 트리거 합니다.\n    // 응답 오류가 있는 작업 수행\n    return Promise.reject(error);\n  });\n```\n\n# Interceptors 제거하기\n\n```tsx\nconst myInterceptor = axios.interceptors.request.use(function () {/*...*/});\naxios.interceptors.request.eject(myInterceptor);\n```\n\n# Custom Instance에서 Interceptors 사용하기\n\n```tsx\nconst instance = axios.create();\ninstance.interceptors.request.use(function () {/*...*/});\n```\n\n# 참조\n\n- [Axios Docs Interceptors](https://axios-http.com/kr/docs/interceptors)","fields":{"slug":"blog/axios/axios-interceptor"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/axios/axios-interceptor.mdx"},{"frontMatter":{"date":"2022-10-23T00:00:00","title":"Gatsby Markdown Post에 목차 추가하기","tags":["React","TypeScript","Emotion","Gatsby"],"description":"Gatsby Blog, Markdown Post에 목차 추가하고 링크 걸기 + 페이지 맨 위/아래로 가기 버튼 추가하기","thumbnail":"./add_table_of_contents_in_post.png","published":true},"body":"# 목차 생성하기\n\n## tableOfContents\n\n이미 목차는 `gatsby-transformer-remark`에 의해 HTML로 생성되어 있다. 다음과 같은 query 를 입력해보면,\n\n```graphql\n{\n  allMarkdownRemark {\n    nodes {\n      tableOfContents\n    }\n  }\n}\n```\n\n```plaintext\n{\n  \"data\": {\n    \"allMarkdownRemark\": {\n      \"nodes\": [\n        {\n          \"tableOfContents\": \"\u003cul\u003e\\n\u003cli\u003e\u003ca href=\\\"#greedy-algorithm%EC%9D%B4%EB%9E%80\\\"\u003eGreedy Algorithm이란?\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\"\n        },\n        {\n          \"tableOfContents\": \"\u003cul\u003e\\n\u003cli\u003e\u003ca href=\\\"#implementation%EC%9D%B4%EB%9E%80\\\"\u003eImplementation이란?\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\"\n        },\n        {\n          \"tableOfContents\": \"\u003cul\u003e\\n\u003cli\u003e\u003ca href=\\\"#%EB%AC%B8%EC%A0%9C-%EC%84%A4%EB%AA%85\\\"\u003e문제 설명\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#%EB%82%B4-%ED%92%80%EC%9D%B4\\\"\u003e내 풀이\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\"\n        },\n        {\n          \"tableOfContents\": \"\u003cul\u003e\\n\u003cli\u003e\u003ca href=\\\"#%EB%AC%B8%EC%A0%9C-%EC%84%A4%EB%AA%85\\\"\u003e문제 설명\u003c/a\u003e\u003c/li\u003e\\n\u003cli\u003e\u003ca href=\\\"#%EB%82%B4-%ED%92%80%EC%9D%B4\\\"\u003e내 풀이\u003c/a\u003e\u003c/li\u003e\\n\u003c/ul\u003e\"\n        },\n        ...\n        ]\n    }\n  },\n  \"extensions\": {}\n}\n\n```\n\n`\u003ca\u003e` tag로 이미 링크까지 제공하고 있음을 확인할 수 있다.\n\nPost Data를 부르는 부분에 다음과 같이 `tableOfContents`를 추가해준다.\n\n```typescript\nexport const queryMarkdownDataBySlug = graphql`\n  query queryMarkdownDataBySlug($slug: String) {\n    allMarkdownRemark(filter: { fields: { slug: { eq: $slug } } }) {\n      edges {\n        node {\n          html\n          tableOfContents\n          frontmatter {\n            title\n            summary\n            date(formatString: \"YYYY.MM.DD.\")\n            categories\n            thumbnail {\n              childImageSharp {\n                gatsbyImageData\n              }\n              publicURL\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n```\n\n목차 부분을 나타내는 컴포넌트(`PostTableOfContents.tsx`)를 생성해주고 `tableOfContents`를 넘겨준다.\n\n`PostTableOfContents.tsx`\n\n```typescript\nimport styled from \"@emotion/styled\";\n\ninterface IPostTableOfContentsProps {\n  tableOfContents: string;\n}\n\nconst TableofContents = styled.div``;\n\nconst PostTableOfContents = ({\n  tableOfContents,\n}: IPostTableOfContentsProps) =\u003e {\n  return (\n    \u003cTableofContents dangerouslySetInnerHTML={{ __html: tableOfContents }} /\u003e\n  );\n};\n\nexport default PostTableOfContents;\n```\n\n`post_template.tsx`\n\n```typescript\nconst PostTemplate = ({\n  data: {\n    allMarkdownRemark: { edges },\n  },\n  location: { href },\n}: IPostTemplateProps) =\u003e {\n  const {\n    node: {\n      html,\n      tableOfContents,\n      frontmatter: {\n        title,\n        summary,\n        date,\n        categories,\n        thumbnail: {\n          childImageSharp: { gatsbyImageData },\n          publicURL,\n        },\n      },\n    },\n  } = edges[0];\n\n  return (\n    \u003cTemplate title={title} description={summary} url={href} image={publicURL}\u003e\n      \u003cPostHead\n        title={title}\n        date={date}\n        categories={categories}\n        thumbnail={gatsbyImageData}\n      /\u003e\n      \u003cPostContent html={html} /\u003e\n      \u003cPostTableOfContents tableOfContents={tableOfContents} /\u003e\n      \u003cCommentWidget /\u003e\n    \u003c/Template\u003e\n  );\n};\n\nexport default PostTemplate;\n```\n\n## 링크 동작시키기\n\n`gatsby-transformer-remark`에서 제공하는 `\u003ca\u003e` tag가 동작하게 하기 위해서는 `gatsby-remark-autolink-headers` 플러그인이 필요하다.\n\n자신의 프로젝트에 맞게 `yarn`과 `npm` 중 하나를 골라 설치해준다.\n\n```shell\nyarn add gatsby-remark-autolink-headers\n\nnpm i gatsby-remark-autolink-headers\n```\n\n`gatsby-config.js` 파일에 다음과 같이 추가한다.\n\n```javascript\n...\n{\n  resolve: `gatsby-transformer-remark`,\n    options\n:\n  {\n    plugins: [\n      ...\n        `gatsby-remark-autolink-headers`,\n    ],\n  }\n}\n,\n...\n```\n\n위와 같이 추가해주는 이유는 `gatsby-remark-autolink-headers`은 `gatsby-transformer-remark` 플러그인의 플러그인이기 때문이다.\n\n# 목차 CSS 적용하기\n\n`post_template.tsx`에 다음과 같이 목차에 style을 추가해주었다.\n\n```typescript\nconst TableofContents = styled.div`\n  border-radius: 5px;\n  background-color: #b0a8b970;\n  padding: 15px;\n  width: 100%;\n`;\n```\n\nheader 1 에 속해있는 header 2와 같이 상속관계에 존재하는 header의 관계를 표현하고자 부모가 있는 header(상위 Header가 있는 header)의 경우, `padding-left`를 `5px`\n씩 추가하였다.\n\n```typescript\nconst TableofContents = styled.div`\n  border-radius: 5px;\n  background-color: #b0a8b970;\n  padding: 15px;\n  width: 100%;\n\n  * {\n    list-style: none;\n    padding-bottom: 5px;\n\n    \u0026:last-child {\n      padding-bottom: 0;\n    }\n  }\n\n  * \u003e ul \u003e li {\n    padding-left: 5px;\n  }\n`;\n```\n\n# 페이지 맨 위/아래로 가기 버튼 추가하기\n\n생성한 목차 위아래에 페이지의 맨 위/아래로 가는 버튼을 추가했다.\n\n버튼 ui는 `FontAwesomeIcon`을 이용하였다.\n\n```typescript\nimport styled from '@emotion/styled'\nimport { faAngleDown, faAngleUp } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\n...\n\nconst PostTableOfContents = ({\n  tableOfContents,\n}: IPostTableOfContentsProps) =\u003e {\n    const onClickUpButton = useCallback(() =\u003e {\n    window?.scrollTo(0, 0)\n  }, [])\n\n  const onClickDownButton = useCallback(() =\u003e {\n    window?.scrollTo(0, document.body.scrollHeight)\n  }, [])\n  return (\n    \u003cTableofContentsWrapper\u003e\n      \u003cUpButton\u003e\n        \u003cFontAwesomeIcon icon={faAngleUp} /\u003e\n      \u003c/UpButton\u003e\n      \u003cTableofContents dangerouslySetInnerHTML={{ __html: tableOfContents }} /\u003e\n      \u003cDownButton\u003e\n        \u003cFontAwesomeIcon icon={faAngleDown} /\u003e\n      \u003c/DownButton\u003e\n    \u003c/TableofContentsWrapper\u003e\n  )\n}\n```\n\n버튼을 누르면 스크롤이 위로 아래로 움직이는 것을 확인할 수 있다.\n","fields":{"slug":"blog/gatsby/add_table_of_contents_in_gatsby"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/gatsby/add_table_of_contents_in_gatsby.mdx"},{"frontMatter":{"date":"2022-09-19T00:00:00","title":"Axios Config 기본값 정리","tags":["React","TypeScript","Axios","JavaScript"],"description":"Axios Config 기본값 정리","published":true},"body":"\u003e 모든 요청에 적용될 config 기본값을 지정할 수 있다.\n\u003e\n\n# **전역 Axios 기본값**\n\n```tsx\naxios.defaults.baseURL = 'https://api.example.com';\naxios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n```\n\n# 커스텀 인스턴스 기본값\n\n## 인스턴스를 생성할때 config 기본값 설정하기\n\n```tsx\nconst instance = axios.create({\n  baseURL: 'https://api.example.com'\n});\n```\n\n## 인스턴스를 생성할때 config 기본값 설정하기: TypeScript에서 생성하기\n\n```tsx\nimport axios, { AxiosRequestConfig } from 'axios';\n\nconst axiosConfig: AxiosRequestConfig = {\n  baseURL: 'BASE_URL'\n}\nconst instance = axios.create(axiosConfig);\n```\n\n## 인스턴스를 만든 후 기본값 변경하기\n\n```tsx\ninstance.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n```\n\n## 인스턴스 사용하기\n\n```tsx\nconst response = await instance.post('login', params);\n```\n\n# **Config 우선 순위**\n\nConfig는 우선 순위에 따라 병합된다.\n\n라이브러리에서의 기본값 \u003c  인스턴스의 `defaults` 속성 \u003c 요청의 `config` 인자를 순서대로 우선순위가 낮다.\n\n```tsx\n// 라이브러리에서 제공하는 config 기본값을 사용하여 인스턴스 만들기\n// 이 때 timeout 값은 라이브러리의 기본값인 '0'입니다.\nconst instance = axios.create();\n\n// 라이브러리에 대한 timeout 값 재정의\n// 이제 모든 요청은 시간 초과 전 2.5초 대기하는 인스턴스를 사용합니다.\ninstance.defaults.timeout = 2500;\n\n// 시간이 오래 걸리는 요청에 대한 timeout 값 재정의\ninstance.get('/longRequest', {\n  timeout: 5000\n});\n```\n\n# 참조\n\n- [Axios Docs Config 기본값](https://axios-http.com/kr/docs/config_defaults)","fields":{"slug":"blog/axios/axios-config"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/axios/axios-config.mdx"},{"frontMatter":{"date":"2022-09-18T00:00:00","title":"HTTP 통신","tags":["Network"],"description":"HTML 파일을 전송하는 프로토콜","published":true},"body":"# 개념\n\n\u003e \u003cstrong\u003eHTTP(HyperText Transfer Protocol)\u003c/strong\u003e\n\u003e\n\u003e HTML 파일을 전송하는 프로토콜으로 초기에는 HTML 파일 전송을 목적으로 만들어졌으나 현재는 JSON, image 파일 등도 전송한다.\n\u003e 클라이언트에서 서버로 요청을 보내고 서버가 클라이언트의 요청에 응답하는 방식으로 통신이 이루어진다.\n\u003e 클라이언트 요청이 있을 때 서버가 응답하는 단방향 통신이다.\n\n\u003caside\u003e\n\n초기에 서버는 응답 후 클라이언트의 Connection을 곧바로 끊어버렸으나, 현재는 성능상의 이유로 Keep Alive 옵션을 통해 일정 기간 동안 클라이언트와 Connection을 유지하는 방식으로 통신이 가능해졌다.\n\n\u003c/aside\u003e\n\n- 보통 브라우저인 클라이언트에 의해 전송되는 메세지를 요청(requests)라고 부르며, 그에 대한 서버에서 응답으로 전송되는 메시지를 응답(responses)라고 부른다.\n- 무상태성(Stateless): HTTP는 state를 저장하지 않늗다. 동시에 통신이 끝나면 상태를 유지하지 않는 특징\n- 비연결성(Connectionless): 클라이언트의 요청에 서버가 응답하고, 그 응답을 클라이언트가 받으면 연결을 끊어버리는 특징\n\n# 참조\n\n- [https://developer.mozilla.org/ko/docs/Web/HTTP](https://developer.mozilla.org/ko/docs/Web/HTTP)\n- [https://kotlinworld.com/75](https://kotlinworld.com/75)\n","fields":{"slug":"blog/network/http"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/network/http.mdx"},{"frontMatter":{"date":"2022-09-13T00:00:00","title":"Socket 통신","tags":["Network"],"description":" 프로세스가 데이터를 주고 받는 창구 역할을 한다. 떨어져 있는 두 호스트가 서로 데이터를 주고 받도록 연결해주는 구조체","published":true},"body":"# 개념\n\n\u003e \u003cstrong\u003eSocket\u003c/strong\u003e\n\u003e\n\u003e 프로세스가 데이터를 주고 받는 창구 역할을 한다. 떨어져 있는 두 호스트가 서로 데이터를 주고 받도록 연결해주는 구조체이다.\n\u003e 소켓을 통해 데이터 통로가 생성된다.\n\u003e\n\u003e - 소켓은 역할에 따라 서버 소켓, 클라이언트 소켓으로 구분된다.\n\n\u003e **소켓 통신**\n\u003e 클라이언트와 서버 양쪽에서 서로에게 데이터 전달을 하는 방식으리 양방향 통신\n\u003e 서버와 클라이언트 양방향 연결이 이루어지는 통신으로, 서버 또한 클라이언트에게 요청을 보낼 수 있다.\n\n- 스트리밍이나 실시간 채팅 등 실시간으로 데이터를 주고 받아야 하는 경우 Connection을 자주 맺고 끊는 HTTP 통신보다 소켓 통신이 더 적합하다.\n- 소켓 통신은 계속해서 Connection을 들고 있기 때문에 HTTP 통신에 비해 많은 자원이 소모된다.\n\n# 참조\n\n- [https://kotlinworld.com/75](https://kotlinworld.com/75)\n- [https://helloworld-88.tistory.com/215](https://helloworld-88.tistory.com/215)\n- [https://itstudy402.tistory.com/13](https://itstudy402.tistory.com/13)\n","fields":{"slug":"blog/network/socket"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/network/socket.mdx"},{"frontMatter":{"date":"2022-08-31T00:00:00","title":"Redux Persist","tags":["JavaScript","Redux-Persist","Redux"],"description":"Redux-Persist로 새로고침해도 데이터 유지하기","published":true},"body":"#개념\n\nRedux의 Store는 앱을 종료하면 모든 state가 사라지기에 캐시 기능을 구현하는 또다른 장치가 필요\n\n→  Web에서는 localStorage 혹은 Session, Native에서는 AsyncStorage 등을 써서 state를 저장, 새로고침을 하여도 저장공간에 있는 데이터를 redux에 불러 올 수 있다.\n\n: token 등의 정보만 저장하면 문제가 없으나 많은 정보를 저장하게 되면, 불필요한 시간 증가 / 용량 부족\n\n⇒ \u003cstrong\u003eRedux Persist\u003c/strong\u003e를 사용하여 이러한 문제 해결\n\n# 설치\n\n\u003caside\u003e\n❗ `react-redux`도 반드시 설치\n\n\u003c/aside\u003e\n\n```bash\nnpm install redux-persist\n```\n\n# 사용법\n\n## reducer에 persist 정의\n\n- localStorage에 저장하고 싶으면 `import storage from 'redux-persist/lib/storage`\n- session Storage에 저장하고 싶으면 `import storageSession from 'redux-persist/lib/storage/session`\n\n```jsx\n\nimport { combineReducers } from \"redux\";\nimport { persistReducer, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\"; // localStorage에 저장합니다.\n\nimport auth from \"./auth\";\nimport site from \"./board\";\n\nconst persistConfig = {\n  key: \"root\",\n\ttransforms: [],\n  storage,\n  whitelist: [\"auth\"]\n\t// whitelist: auth, site 2개의 reducer 중에 auth reducer만 localstorage에 저장합니다.\n  // blacklist: 그것만 제외합니다\n};\n\nexport const rootReducer = combineReducers({\n  auth,\n  site,\n});\n\nconst persistReducer = persistReducer(persistConfig, rootReducer);\nconst store = createStore(rootReducer);\nconst persist = persistStore(store);\n\nexport default {store, persist}\n```\n\n- `persistConfig`\n\n    ```tsx\n    interface PersistConfig\u003cS, RS = any, HSS = any, ESS = any\u003e {\n      version?: number;\n      storage: Storage;\n      key: string;\n    \t/**\n       *@deprecatedkeyPrefix is going to be removed in v6.\n       */\n    \tkeyPrefix?: string;\n      blacklist?: Array\u003cstring\u003e;\n      whitelist?: Array\u003cstring\u003e;\n      transforms?: Array\u003cTransform\u003cHSS, ESS, S, RS\u003e\u003e;\n      throttle?: number;\n      migrate?: PersistMigrate;\n      stateReconciler?: false | StateReconciler\u003cS\u003e;\n    \t/**\n       *@descUsed for migrations.\n       */\n    \tgetStoredState?: (config: PersistConfig\u003cS, RS, HSS, ESS\u003e) =\u003e Promise\u003cPersistedState\u003e;\n      debug?: boolean;\n      serialize?: boolean;\n      timeout?: number;\n      writeFailHandler?: (err: Error) =\u003e void;\n    }\n    ```\n\n\n## persist store 사용\n\n`src/index.js`\n\n```jsx\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './Store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\n\nroot.render(\n  \u003cReact.StrictMode\u003e\n    \u003cProvider store={store}\u003e\n      \u003cPersistGate loading={null} persistor={persistor}\u003e\n        \u003cApp /\u003e\n      \u003c/PersistGate\u003e\n    \u003c/Provider\u003e\n  \u003c/React.StrictMode\u003e\n);\n```","fields":{"slug":"blog/react/redux-persist"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/react/redux-persist.mdx"},{"frontMatter":{"date":"2022-07-13T00:00:00","title":"JavaScript concat과 push 비교","tags":["JavaScript"],"description":"JavaScript concat과 push 비교하기","published":true},"body":"# 1. Array.prototype.concat()\n\n\u003e `concat()` \n메서드는 인자로 주어진 배열이나 값들을 기존 배열에 합쳐서 새 배열을 반환한다.\n\u003e\n\n- 기존배열을 변경하지 않는다.\n- 추가된 새로운 배열을 반환한다.\n- `concat`은 메서드를 호출한 배열 뒤에 각 인수를 순서대로 붙여 새로운 배열을 생성한다.\n인수가 배열이면 그 구성요소가 순서대로 붙고, 배열이 아니면 인수 자체가 붙는다. 중첩 배열 내부로 재귀하지 않다.\n\n    ```jsx\n    const alpha = ['a', 'b', 'c'];\n    const numeric = [1, 2, 3];\n\n    alpha.concat(numeric);\n    // 결과: ['a', 'b', 'c', 1, 2, 3]\n    ```\n\n    ```jsx\n    const num1 = [1, 2, 3];\n    const num2 = [4, 5, 6];\n    const num3 = [7, 8, 9];\n\n    num1.concat(num2, num3);\n    // 결과: [1, 2, 3, 4, 5, 6, 7, 8, 9]\n    ```\n\n    ```jsx\n    const alpha = ['a', 'b', 'c'];\n\n    alpha.concat(1, [2, 3]);\n    // 결과: ['a', 'b', 'c', 1, 2, 3]\n    ```\n\n\n# 2. Array.prototype.push()\n\n\u003e `push()`\n 메서드는 배열의 끝에 하나 이상의 요소를 추가하고, 배열의 새로운 길이를 반환힌다.\n\u003e\n\n```jsx\nvar sports = ['축구', '야구'];\nvar total = sports.push('미식축구', '수영');\n\nconsole.log(sports); // ['축구', '야구', '미식축구', '수영']\nconsole.log(total);  // 4\n```\n\n# 참조\n\n- [https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/concat](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/concat)\n- [https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/push](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/push)","fields":{"slug":"blog/javascript/concat-push"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/javascript/concat-push.mdx"},{"frontMatter":{"date":"2022-07-12T00:00:00","title":"JavaScript map과 forEach 비교","tags":["JavaScript"],"description":"JavaScript map과 forEach 비교하기","published":true},"body":"\u003caside\u003e\n💡\n\n`forEach` VS `map`\n\n- `forEach`: for문 대체 함수로 원본 배열을 변경하지 않고 항상 `return` 값은 `undefined`이다.\n- `map` : 콜백 함수의 `return` 값으로 구성된 새로운 배열을 반환한다.\n\n\u003c/aside\u003e\n\n# **Array.prototype.forEach**\n\n---\n\n\u003e `forEach()`\n\u003e for문을 대체할 수 있는 함수로 `forEach` method는 자신의 내부에서 반복문을 실행한다.\n\u003e 내부에서 반복문을 통해 자신을 호출한 배열을 순회하면서 수행해야할 처리를 콜백 함수로 전달받아 반복 호출한다.\n\n- `forEach` method는 원본 배열을 변경하지 않는다.\n- `forEach` method의 반환값은 언제나 `undefined`이다.\n\n```jsx\nconst num = [1, 2, 3];\nconst result = [];\n\nnum.forEach((n) =\u003e result.push(n + 10));\n\nconsole.log(result); // output: [11, 12, 13]\n```\n\n# **Array.prototype.map**\n\n---\n\n\u003e `map()`\n\u003e 자신을 호출한 배열의 모든 요소를 순회하면서 인수로 전달받은 콜백 함수를 반복 호출한다.\n\u003e 그리고 콜백 함수의 반환값들로 구성된 \u003cspan className=\"yellow\"\u003e새로운 배열을 반환\u003c/span\u003e한다.\n\n- `map` method는 원본 배열을 변경하지 않는다. 단,`callback`함수에 의해서 변형될 수는 있다.\n\n  ```jsx\n  var kvArray = [\n    { key: 1, value: 10 },\n    { key: 2, value: 20 },\n    { key: 3, value: 30 },\n  ];\n\n  var reformattedArray = kvArray.map(function (obj) {\n    var rObj = {};\n    rObj[obj.key] = obj.value;\n    return rObj;\n  });\n  // reformattedArray는 [{1:10}, {2:20}, {3:30}]\n\n  // kvArray는 그대로\n  // [{key:1, value:10},\n  //  {key:2, value:20},\n  //  {key:3, value: 30}]\n  ```\n\n- `map` method에서는 원본 배열의 원소와 일대일 mapping이 진행되기 때문에 원본 배열과 mapping 후 배열의 길이는 항상 같다.\n- `map`은`callback`함수를 각각의 요소에 대해 한번씩 순서대로 불러 그 함수의 반환값으로 새로운 배열을 만든다.`callback`함수는 (`undefined`도 포함해서)배열 값이 들어있는 인덱스에\n  대해서만 호출된다.\n  즉, 값이 삭제되거나 아직 값이 할당/정의되지 않은 인덱스에 대해서는 호출되지 않는다.\n- String에도 사용 가능\n  ```jsx\n  var map = Array.prototype.map;\n  var a = map.call(\"Hello World\", function (x) {\n    return x.charCodeAt(0);\n  });\n  // a는 이제 [72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]\n  ```\n\n# 참조\n\n- [MDN Array.prototype.map()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/map)\n- [MDN Array.prototype.forEach()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)\n","fields":{"slug":"blog/javascript/forEach-map"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/javascript/forEach-map.mdx"},{"frontMatter":{"date":"2022-07-04T00:00:00","title":"MVC 패턴","tags":["CS"],"description":"MVC 패턴에 대해 알아보기","published":true},"body":"![MVC Pattern](/static/images/blog/mvc-pattern.png)\n\n\u003caside\u003e\n  💡 애플리케이션의 구성 요소를 세 가지 역할로 구분하여 개발 프로세스에서 각각의 구성 요소에만 집중해서 개발할 수 있다.\n\n\u003c/aside\u003e\n\n✔️ 장점: 재사용성과 확장성이 용이하다\n\n✔️ 단점: 애플리케이션이 복잡해질수록 모델과 뷰의 관계가 복잡해진다.\n\n## 모델(Model)\n\n---\n\n\u003cspan className={\"yellow\"}\u003e애플리케이션의 데이터인 데이터베이스, 상수, 변수 등을 의미\u003c/span\u003e\n\n예를 들어 사각형 모양의 박스 안에 글자가 들어 있다면 그 사각형 모양의 박스 위치 정보, 글자 내용, 글자 위치, 글자 포맷(utf-8 등)에 관한 정보를 모두 가지고 있어야 한다. 뷰에서 데이터를 생성하거나 수정하면 컨트롤러를 통해 모델을 생성하거나 갱신한다.\n\n## 뷰(View)\n\n---\n\ninputbox, checkbox, textarea 등 사용자 인터페이스 요소를 나타낸다. 즉 \u003cspan className={\"yellow\"}\u003e모델을 기반으로 사용자가 볼 수 있는 화면을 의미한다.\u003c/span\u003e\n\n✔️ 모델이 가지고 있는 정보를 따로 저장하지 않아야 한다. 단순히 사각형 모양 등 화면에 표시하는 정보만 가지고 있어야 한다.\n\n✔️ 변경이 일어나면 컨트롤러에 이를 전달해야 한다.\n\n## 컨트롤러(Controller)\n\n---\n\n하나 이상의 모델과 하나 이상의 뷰를 잇는 \u003cspan className={\"yellow\"}\u003e다리 역할\u003c/span\u003e을 하며 \u003cspan className={\"yellow\"}\u003e이벤트 로직을 담당\u003c/span\u003e한다. 모델과 뷰의 생명주기도 관리하며, 모델이나 뷰의 변경 통지를 받으면 이를 해석하여 각각의 구성 요소에 해당 내용에 대해 알려준다.\n\n## 예시\n\n---\n\n- React","fields":{"slug":"blog/cs/mvc-pattern"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/cs/mvc-pattern.mdx"},{"frontMatter":{"date":"2022-06-25T00:00:00","title":"Styled Components Global Style 설정하기","tags":["Styled-Components","CSS","React","TypeScript"],"description":"Styled Components 전체 프로젝트에 적용되는  Global Style 설정하기","published":true},"body":"\u003e `createGlobalStyle`\n하나의 컴포넌트를 만들 수 있게 해주는데 랜더링이 될 때, 그 컴포넌트는 전연 스코프에 스타일들을 올려준다.\n\u003e\n\n```tsx\nimport { createGlobalStyle } from \"styled-components\";\nimport Router from \"./Router\";\n\nconst GlobalStyle = createGlobalStyle`\nbody {\n  //global style 작성\n}\n`;\n\nfunction App() {\n  return (\n    \u003c\u003e\n      \u003cGlobalStyle /\u003e\n      \u003cRouter /\u003e\n    \u003c/\u003e\n  );\n}\n\nexport default App;\n```\n\n# Global Style 지정\n\n`globalStyle.tsx`\n\n\u003caside\u003e\n💡 Reset CSS\n[https://github.com/zacanger/styled-reset/blob/master/src/index.ts](https://github.com/zacanger/styled-reset/blob/master/src/index.ts)\n\n\u003c/aside\u003e\n\n```tsx\nimport { createGlobalStyle } from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n/* http://meyerweb.com/eric/tools/css/reset/\n   v5.0.1 | 20191019\n   License: none (public domain)\n*/\n@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400\u0026display=swap');\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, menu, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  font-family: 'Source Sans Pro', sans-serif;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nbody {\n  line-height: 1;\n  margin: 0;\n  background: ${(props) =\u003e props.theme.bgColor};\n  color: ${(props) =\u003e props.theme.textColor};\n}\nmenu, ol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\na{\n  text-decoration: none;\n  color: inherit;\n}\n*{\n  box-sizing: border-box;\n}\n`;\n```\n\n# Global Style 적용\n\n`App.tsx`\n\n```tsx\nimport React from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport { GlobalStyle } from \"./style/globalStyle\";\nimport { ThemeProvider } from \"styled-components\";\n\nfunction App() {\n\n  return (\n    \u003cThemeProvider theme={theme}\u003e\n      \u003cGlobalStyle /\u003e\n      \u003cBrowserRouter\u003e\n        \u003cRoutes\u003e\n          \u003cRoute path={\"/\"} element={\u003cHome /\u003e} /\u003e\n        \u003c/Routes\u003e\n      \u003c/BrowserRouter\u003e\n    \u003c/ThemeProvider\u003e\n  );\n}\n\nexport default App;\n```","fields":{"slug":"blog/styled-components/global-style"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/styled-components/global-style.mdx"},{"frontMatter":{"date":"2022-06-24T00:00:00","title":"Python3 문자열 채우기: rjust / ljust / zfill","tags":["Python3"],"description":"Python3 rjust, ljust, zfill로 문자열 채우기","published":true},"body":"## rjust\n\n---\n\n\u003e `rjust(string의 길이, 채워줄 문자)`\n오른쪽에 string의 남는 길이만큼 주어진 문자를 채워준다.\n\u003e\n\n```python\ntext = \"hello\".rjust(5, \"0\") // hello\ntext = \"hello\".rjust(10, \"0\") // 00000hello\ntext = \"hello\".rjust(7, \"q\") // qqhello\n```\n\n## ljust\n\n---\n\n\u003e `ljust(string의 길이, 채워줄 문자)`\n왼쪽에 string의 남는 길이만큼 주어진 문자를 채워준다.\n\u003e\n\n```python\ntext = \"hello\".ljust(5, \"0\") // hello\ntext = \"hello\".ljust(10, \"0\") // hello00000\ntext = \"hello\".ljust(7, \"q\") // helloqq\n```\n\n## zfill\n\n---\n\n\u003e `zfill(string의 길이)`\n왼쪽에 0을 채워준다\n\u003e\n\n```python\ntext = \"hello\".zfill(5) // hello\ntext = \"hello\".zfill(10) // 00000hello\ntext = \"hello\".zfill(7) // 00hello\n```","fields":{"slug":"blog/python/rjust-ljust-zfill"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/python/rjust-ljust-zfill.mdx"},{"frontMatter":{"date":"2022-01-10T00:00:00","title":"Lodash 자주 사용하는 함수 정리","tags":["React","TypeScript","Lodash","JavaScript"],"description":"자주 사용하는 lodash 함수 정리","published":true},"body":"# Array 관련 함수\n\n## `uniq`\n\n\u003e 배열 원소 중복 제거\n\u003e\n\u003e ```tsx\n\u003e uniq\u003cT\u003e(array: List\u003cT\u003e | null | undefined): T[];\n\u003e // arg: array\n\u003e // return: array\n\u003e ```\n\n```tsx\nconst siteList = [0, 1, 1, 2];\nconst uniqSiteList = uniq(siteList); // [0, 1, 2]\n```\n\n# Collection 관련 함수\n\n## `sortby`\n\n\u003e collection 값들을 원하는 필드를 기준으로 오름차순으로 정렬\n\u003e\n\u003e ```tsx\n\u003e sortBy(collection, [(iteratees = [_.identity])]);\n\u003e\n\u003e //collection: 정렬 대상\n\u003e //[iteratees=[_.identity]] 정렬 기준\n\u003e\n\u003e // =\u003e return 정렬된 새로운 array\n\u003e ```\n\n- 여러 개의 필드값으로도 정렬 가능\n\n```javascript\nsortBy(정렬을 원하는 컬렉션, [정렬 기준 필드값 1, 정렬 기준 필드값 2]);\n```\n\n- 내림차 순으로 정렬하기 위해서는, `reverse()` 사용\n\n```javascript\nsortBy(정렬을 원하는 컬렉션, 정렬 기준 필드값).reverse();\n```\n\n```tsx\nconst users = [\n  { user: \"Fred\", age: 48 },\n  { user: \"Barney\", age: 36 },\n  { user: \"Fred\", age: 40 },\n  { user: \"Barney\", age: 34 },\n];\n\nconst sortByFunc = sortBy(users, [\n  function (o) {\n    return o.user;\n  },\n]);\nconsole.log(sortByFunc);\n// =\u003e objects for [['Barney', 36], ['Barney', 34], ['Fred', 48], ['Fred', 40]]\n\nconst sortByTwoArg = sortBy(users, [\"user\", \"age\"]);\nconsole.log(sortByTwoArg);\n// =\u003e objects for [['Barney', 34], ['Barney', 36], ['Fred', 40], ['Fred', 48]]\n```\n\n# Lang 관련 함수\n\n## `clonedeep`\n\n\u003e 객체 복사\n\n# Object 관련 함수\n\n## `get`\n\n\u003e 객체에서 원하는 값 찾기\n\n```javascript\nget(찾을 장소, 가져올 키, 기본 값);\n```\n\n# 참조\n\n- [lodash 공식 문서](https://lodash.com/docs/4.17.15#compact)\n","fields":{"slug":"blog/react/lodash"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/react/lodash.mdx"},{"frontMatter":{"date":"2021-07-12T00:00:00","title":"React Class Component Life Cycle","tags":["React","JavaScript"],"description":"React Class Component 의 Life Cycle 정리","published":true},"body":"\u003caside\u003e 본 포스트는 [리액트 공식 홈페이지](https://ko.reactjs.org/docs/react-component.html#componentdidupdate)를 읽고 공부한 기록입니다.\u003c/aside\u003e\n\n# LifeCycle\n\n\u003e 모든 컴포넌트를 여러 종류의 생명 주기 메소드를 가지며 생명 주기 메소드를 통해서 원하는 시점에 특정 함수가 실행하도록 할 수 있다.\n\n- React v_16.4 이상 LifeCycle\n  ![[https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/](https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/)](/static/images/blog/react_class_render_01.png)\n\n- React v_16.3 이하 LifeCycle\n  ![https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/](/static/images/blog/react_class_render_02.png)\n\n## Mount\n\n\u003e DOM에 element를 집어넣는 것\n\n컴포넌트의 인스턴스가 생성되어 DOM 상에 삽입될 때에 순서대로 호출\n\n1. [`constructor()`](#constructor)\n2. [`static getDerivedStateFromProps()`](#getDerivedStateFromProps)\n3. [`render()`](#render)\n4. ~~[`componentDidMount()`](#componentdidmount)~~\n\n## Update\n\nprops 또는 state가 변경되면 다음과 같은 순서로 re-render 발생.\n\n1. [`static getDerivedStateFromProps()`](#getDerivedStateFromProps)\n2. [`shouldComponentUpdate()`](#shouldComponentUpdate)\n3. [`render()`](#render)\n4. [`getSnapshotBeforeUpdate()`](#getSnapshotBeforeUpdate)\n5. ~~[`componentDidUpdate()`](#componentDidMount)~~\n\n## Unmount\n\nComponent가 DOM 상에서 제거될 때에 호출됨\n\n- [`componentWillUnmount`](#componentWillMount)\n\n## Handle Error\n\n아래 메서드들은 자식 컴포넌트를 렌더링하거나, 자식 컴포넌트가 생명주기 메서드를 호출하거나, 자식 컴포넌트가 생성자 메서드를 호출하는 과정에서 오류가 발생했을 때에 호출된다.\n\n- [`static getDerivedStateFromError()`](#getDerivedStateFromProps)\n- [`componentDidCatch()`](#componentDidCatch)\n\n# Life Cycle Method\n\n## `constructor`\n\n\u003e 컴포넌트가 새롭게 생성될 때 마다 호출되는 컴포넌트 생성자 메소드로 보통 `this.state`에 객체를 할당하여 local state를 초기화하거나 인스턴스에 이벤트 처리 메서드를 바인딩하기 위해 사용된다.\n\n- 해당 컴포넌트가 마운트되기 전에 호출되는 함수, 컴포넌트 생성시에 가장 먼저 실행되는 메소드\n- 메서드를 바인딩하거나 state를 초기화하는 작업이 없다면 생성자(`constructor`) 생략 가능\n- React.Component를 상속한 컴포넌트의 생성자를 구현할 때에는 다른 구문에 앞서 `super(props);`를 호출해야 한다. 그렇지 않으면 this.props가 생성자 내에서 정의되지 않는 오류 발생\n- `constructor()` 내부에서 `setState()`를 호출하면 안된다. 만일 컴포넌트에 local state가 필요하다면 생성자 내에서 `this.state`에 초기 state 값을 할당하면 된다.\n- 생성자는 `this.state`를 직접 할당할 수 있는 유일한 곳으로 `constructor()` 이 외의 메서드에서는 `this.setState()`를 사용해야 함\n- 생성자 내에서는 부수 효과를 발생시키거나 구독 작업(subscription)을 수행 XXX =\u003e `componentDidMount()`에서 실행하기\n\n```javascript\nconstructor(props);\n{\n  super(props);\n  // 여기서 this.setState()를 호출 X\n  this.state = { counter: 0 };\n  this.handleClick = this.handleClick.bind(this);\n}\n```\n\n\u003e !! `state`에 props 복사하지 않기 =\u003e `props` 복사는 `getDerivedStateFromProps`에서 하기\n\u003e\n\u003e ```javascript\n\u003e constructor(props) {\n\u003e super(props);\n\u003e // 이렇게 하지 마세요!\n\u003e this.state = { color: props.color };\n\u003e }\n\u003e ```\n\u003e\n\u003e 이런식으로 props를 state로 설정할 경우 props의 값의 변경 사항이 반영되지 않는다.\n\u003e\n\u003e `props`의 갱신을 의도적으로 무시해야 할 때만 `props`를 `state`로 따로 설정\n\n## `componentWillMount`\n\n```plain text\n`componentWillMount()` =\u003e UNSAFE_componentWillMount()\nv_17 이전 까지는 유지 v_17.0 이후로는 `UNSAFE_componentWillMount()`\n계속 이용하고 싶다면,\nnpx react-codemod rename-unsafe-lifecycles\n```\n\n\u003e 마운트가 발생하기 전에 호출된다. `render()`가 실행되기 전에 호출되므로, 이 메서드 내에서 `setState()`를 동기적으로 호출하더라도 추가적인 렌더링이 발생하지 않는다.\n\n- state 초기화의 경우 `constructor()` 사용하는 것이 좋다.\n- 이 메서드 내에서 부수 효과를 발생시키거나 구독 작업(subscription)을 수행하면 안 된다. (해당 경우에는 `componentDidMount()`를 대신 사용)\n- 이 메서드는 서버 렌더링에서 호출되는 유일한 생명주기 메서드\n\n## `getDerivedStateFromProps`\n\n\u003e 최초 마운트 시와 갱신 시 모두(랜더링 될 때마다 호출된다.)에서 `render` 메서드 호출 직전에 호출하여 주로 state를 갱신하기 위한 객체를 반환하거나, `null`을 반환하여 아무 것도 갱신하지 않을\n\u003e 수도 있다.\n\n- 시간의 흐름에 따라 변하는 `props`에 `state`가 의존하는 경우(변화하는 offset prop에따라 현재 scroll direction을 기록하거나 source props에 따라 외부 데이터를 로딩하는\n  경우, `props`로 받아온 것을 `state`에 넣어주고 싶을 때 등)에 사용.\n- !! 다른 생명주기 메소드와 달리 앞에 `static`을 필요로하고, this 롤 조회를 할 수 없다.\n- !! state보다는 prop 사용\n- 이 메서드는 컴포넌트 인스턴스에 접근할 수 없습니다. 인스턴스 접근이 필요하다면, class 정의 외부에서 컴포넌트의 props와 state에 대한 순수 함수를\n  추출하여 `getDerivedStateFromProps()`와 다른 클래스 메서드 간에 코드를 공유 및 재사용할 수 있다.\n- [`componentWillReceiveProps`](#componentWillReceiveProps)와 달리 이 메소드의 경우 부모 컴포넌트가 다시 렌더링을 발생시켰을 때에만 실행되고, 해당 컴포넌트 내에서\n  지역적인 `setState`가 발생한 경우에는 실행되지 않는다.\n\n```javascript\nstatic getDerivedStateFromProps(props, state)\n{\n\n}\n```\n\n## `render`\n\n- **\u003cspan className=\"red\"\u003e클래스 컴포넌트에서 반드시 구현되어야 하는 유일한 메소드이다.\u003c/span\u003e**\n\n## `getSnapshotBeforeUpdate`\n\n\u003e 가장 마지막으로 렌더링된 결과가 DOM 등에 반영되기 전에 호출되는 메서드로 컴포넌트가 DOM으로부터 스크롤 위치 등과 같은 정보를 이후 변경되기 전에 얻을 수 있다.\n\n- 이 생명주기 메서드가 반환하는 값은 `componentDidUpdate()`에서 세번째 인자로 전달됨\n- 잘 사용되지는 않지만 함수형 컴포넌트 + Hooke을 사용할때에는 해당 메서드를 대체할 수 있는 기능이 아직 없다.\n- 발생 시점: `render()` / `getSnapshotBeforeUpdate()` / 실제 DOM에 변화 발생 / `compoenetDidUpdate`\n\n```javascript\ngetSnapshotBeforeUpdate(prevProps, prevState);\n{\n}\n```\n\n## `componentDidMount`\n\n\u003e - 컴포넌트가 화면에 나타났을 때 호출, 컴포넌트의 첫번째 렌더링이 완료된후 호출되는 메서드\n\u003e\n\u003e - 주로 D3, masonry 처럼 DOM을 사용해야하는 외부 라이브러리 연동을 하거나, 해당 컴포넌트에서 필요로하는 데이터를 요청하기 위해 axios, fetch 등을 통하여 ajax 요청을 하거나, DOM 의\n\u003e   속성을 읽거나 직접 변경하는 작업을 진행\n\n- 이미 `props`와 `state`가 바뀐 상태로 매개변수로 `prevProps`와 `prevState`를 받아 조회할 수 있다.\n\n## `componentWillReceiveProps`\n\n\u003e 컴포넌트가 새로운 props를 받게 되었을 때 호출된다.\n\n- 주로 state가 props에 따라 변해야 하는 로직을 작성한다.\n- 새로 받게된 props는 nextProps로 조회할 수 있다.\n\n```plain text\n`componentWillReceiveProps()` =\u003e UNSAFE_componentWillReceiveProps()\nv_17 이전 까지는 유지 v_17.0 이후로는 `UNSAFE_componentWillReceiveProps()`\n계속 이용하고 싶다면,\nnpx react-codemod rename-unsafe-lifecycles\n```\n\n## `shouldComponentUpdate`\n\n\u003e `props` 또는 `state`가 새로운 값으로 갱신되어서 렌더링에 발생하기 직전에 호출\n\u003e\n\u003e 기본 값은 `true`로 초기 렌더링과 `forceUpdate()`가 사용될 때에는 호출되지 않는다.\n\n- 현재 `state` 또는 `props`의 변화가 컴포넌트의 출력 결과에 영향을 미치는지의 여부를 React에 알려주는 역할을 한다.\n- 기본 동작은 매 `state` 변화마다 다시 렌더링을 수행하는 것이며, 대부분의 경우 기본 동작에 따라야 한다.\n- 오직 성능 최적화를 목적으로 두고 있음 =\u003e \u003cspan className=\"red\"\u003e렌더링을 방지하는 목적으로 사용할 경우 버그로 이어질 수 있다.\u003c/span\u003e\n- \u003cspan className=\"red\"\u003e내용을 직접 작성하는 대신에 [PureComponent](https://ko.reactjs.org/docs/react-api.html#reactpurecomponent)를 사용하는 것이 좋다. PureComponent는 props와 state에 대히여 얕은 비교를 수행하고, 해야 할 갱신 작업을 건너뛸 확률을 낮춰준다.\u003c/span\u003e\n  \u003e PureComponent \n  \u003e \n  \u003e React Component의 render() 함수가 동일한 `props`와 `state`에\n  대하여 동일한 결과를 렌더링한다면, React.PureComponent를 사용하여 경우에 따라 성능\n  향상을 누릴 수 있다. \n  \u003e \n  \u003e - \u003cspan className=\"yellow\"\u003e`props`와 `state`가 간단할 것으로 예상될 때에만 PureComponent를 상속해야한다.\u003c/span\u003e\n  \u003e - `props`와 `state`가 복잡하다면 pureComponent 말고 `forceUpdate()` 활용하기\n  \u003e - `React.PureComponent`의 `shouldComponentUpdate()`는 컴포넌트의 하위 트리에\n  대한 `props` 갱신 작업을 수행하지 않는다.\n- 만일 직접 작성하고 싶다면, `this.props`와 `nextProps`, `this.state`와 `nextState`를 비교한 뒤 `false`를 반환하는 것으로 React가 갱신 작업을 건너뛰게 할 수 있다. \n   \u003cspan className=\"red\"\u003e 건너뛰다고 해서 자식 컴포넌트들이 각자가 가진 state의 변화에 따라 가시 렌더링을 수행하는 것을 막는 것은 아니다.\u003c/span\u003e\n\n```javascript\nshouldComponentUpdate(nextProps, nextState){}\n```\n\n## `componentWillUpdate`\n\n```plain text\n`componentWillUpdate()` =\u003e UNSAFE_componentWillUpdate()\nv_17 이전 까지는 유지 v_17.0 이후로는 `UNSAFE_componentWillUpdate()`\n계속 이용하고 싶다면,\nnpx react-codemod rename-unsafe-lifecycles\n```\n\n\u003e 새로운 `props` 또는 `state`가 전달되어서 렌더링이 이루어지기 전에 호출\n\n- React component가 없데이트 되기 전에 미리 준비할 수 있는 단계\n- 초기 렌더링 시에는 호출 X\n- !! 이 메서드 내에서는 `this.setState()` 호출할 수 없으며 React Component가 갱신되도록 만드는 그 어떤 작업(Redux Action dispatch)\n  도 `componentWillUpdate()`가 결과값을 반환하지 건에 이루어지면 안됨\n- 통상적으로 이 메서드는 `componentDidUpdate()`로 대체 가능\n- 이 메서드 내에서 DOM에 대한 정보를 얻는다면 (예를 들어, 스크롤 위치 저장하기), 해당 코드를 `getSnapshotBeforeUpdate()`로 이전하는 것이 가능\n\n\u003e !! `shouldComponentUpdate()`가 `false`로 반환되면 호출되지 않는다.\n\n## `componentDidUpdate`\n\n\u003e 업데이트 직후에 호출되며 최초 렌더링(초기 렌더링) 시에는 호출 X\n\n- 컴포넌트가 갱신되었을 때 DOM을 조작하기 위해 아 메소드 활용에 용이\n\n- 이전과 현재의 `props`를 비교하여 네트워크 요청을 보내는 작업도 이 메소드를 사용하면 된다.\n\n- 컴포넌트에서 `getSnapshotBeforeUpdate()`를 구현한다면, 해당 메서드가 반환하는 값은 `componentDidUpdate()`에 `snapshot` 인자로 넘겨집니다. 반환값이 없다면 해당\n  인자는 `undefined`를 가집니다.\n\n\u003e !! `shouldComponentUpdate()`가 `false`로 반환되면 호출되지 않는다.\n\n```javascript\ncomponentDidUpdate(prevProps, prevState, snapshot);\n{\n}\n```\n\n- `componentDidUpdate()`에서 `setState()`를 즉시 호출할 수도 있지만, 조건문으로 감싸지 않으면 무한 반복이 발생할 수 있다.\n\n\u003e 상위에서 내려온 prop을 그대로 `state`에 저장하는 것은 좋지 않으며, 그 대신 `prop`을 직접 사용하는 것이 좋다.\n\n```javascript\ncomponentDidUpdate(prevProps);\n{\n  if (this.props.userID !== prevProps.userID) {\n    this.fetchData(this.props.userID);\n  }\n}\n```\n\n## `componentWillUnmount`\n\n\u003e 컴포넌트가 마운트 해제되어 제거되기 직전에 호출\n\n- 이 메서드 내에서 타이머 제거, 네트워크 요청 취소, `componentDidMount()` 내에서 생성된 구독 해제 등 필요한 모든 정리 작업을 수행\n- 이제 컴포넌트는 다시 렌더링되지 않으므로, `componentWillUnmount()` 내에서 `setState()`를 호출하면 안 된다. 컴포넌트 인스턴스가 마운트 해제되고 나면, \u003cspan className=\"red\"\u003e절대로 다시 마운트되지 않는다\u003c/span\u003e\n\n# 참조\n\n- [리액트 공식 홈페이지 업데이트 로그](https://ko.reactjs.org/blog/2018/03/27/update-on-async-rendering.html)\n- [리액트 공식 홈페이지 Doc](https://ko.reactjs.org/docs/react-component.html)\n- [Velopert React 튜토리얼](https://velopert.com/3631)\n- [W3schools: React Lifecycle](https://www.w3schools.com/react/react_lifecycle.asp)\n","fields":{"slug":"blog/react/react_class_render"},"path":"/Users/yoda/Workspace/COYO-HM.github.io/content/blog/react/react_class_render.mdx"}],"allTags":[{"tag":"JavaScript","count":9},{"tag":"React","count":8},{"tag":"TypeScript","count":6},{"tag":"Network","count":4},{"tag":"CSS","count":2},{"tag":"Redux","count":2},{"tag":"Axios","count":2},{"tag":"Git","count":1},{"tag":"IntelliJ","count":1},{"tag":"npm","count":1},{"tag":"yarn","count":1},{"tag":"yarn berry","count":1},{"tag":"GithubPage","count":1},{"tag":"Emotion","count":1},{"tag":"Gatsby","count":1},{"tag":"Redux-Persist","count":1},{"tag":"CS","count":1},{"tag":"Styled-Components","count":1},{"tag":"Python3","count":1},{"tag":"Lodash","count":1}]},"__N_SSG":true},"page":"/blog","query":{},"buildId":"SNUWWwPyCHqfCk4CGLza2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>