<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="canonical" href="https://coyo-hm.github.io/"/><link rel="icon" href="/favicons/favicon.ico"/><link rel="apple-touch-icon" sizes="76x76" href="/favicons/logo_76x76.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/logo_32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/logo_16x16.png"/><meta name="google-site-verification" content="HzJb0HTR2Qal7mndqRpQ6uBSJbCRXpZPnh7_Cn1oOgA"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/73c791a592529093.css" as="style"/><link rel="stylesheet" href="/_next/static/css/73c791a592529093.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-49c6cecf1f6d5795.js" defer=""></script><script src="/_next/static/chunks/main-6ce178aaef1a2169.js" defer=""></script><script src="/_next/static/chunks/pages/_app-aa7bee1ee28d4542.js" defer=""></script><script src="/_next/static/chunks/130-48e846218faafaf7.js" defer=""></script><script src="/_next/static/chunks/pages/index-b34a5a81d7dd7d4f.js" defer=""></script><script src="/_next/static/ksbH0b8uVkWecRl5mQ8BO/_buildManifest.js" defer=""></script><script src="/_next/static/ksbH0b8uVkWecRl5mQ8BO/_ssgManifest.js" defer=""></script></head><body><div id="__next"></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"recentPosts":[{"frontMatter":{"date":"2024-09-11T00:00:00","title":"TypeScript 2802 error(downlevelIteration, target) 오류 해결하기","tags":["typescript"],"series":["trouble_shooting"],"description":"TypeScript 2802 error(downlevelIteration, target) 오류에 대해 알아보고 해결해보기","thumbnail":"https://github.com/user-attachments/assets/ae48b518-5410-49c9-9a47-6377ce2f4479","published":true,"path":"error-ts2802.mdx","key":"error-ts2802","blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAuElEQVR4nDXNvwqCUBzFcQdfIC8kDr1Y0As09ATOOfYHInCNG9xydnHxBRRycXRJGkriBl1B/d0TN3D4Dgc+cKy+778A2rHP49y+76dxKwADEdUWAMqyDEGwxm5/xGphYTm3sNke4Pu+LoobADQGDpxzzRjTrjvVnjfTE8fVzHG0bdvEOTfwZWBfVRXFcUxCXCiKriSEoCRJKE3Toa5rA5//aykllFLI8xxhGP4ryxJSSt11HYio+QETMJ2PZ1qg6QAAAABJRU5ErkJggg=="},"body":"# ⚠️ 문제\n\n\u003cimg src=\"https://github.com/user-attachments/assets/6532f868-e772-46d7-8526-eae4b2319499\" /\u003e\n\n```\nTS2802: Type NodeListOf\u003cHTMLButtonElement\u003e can only be iterated through when using the --downlevelIteration flag or with a --target of es2015 or higher.\n```\n\n해당 오류는 ECMAScript 2015(ES6)를 지원하지 않는 환경에서 `NodeListOf\u003cHTMLButtonElement\u003e`와 같은 ES6 열거형(Iterable) 객체를 열거하려고 할 때 발생합니다.\n\n\n# 🔧 해결\n\n오류 문에 적혀있는 대로 해결해 봅시다.\n\n## 방법 1. `downlevelIteration` 사용\n\n`tsconfig.json`\n\n```tsx\n{\n  \"compilerOptions\": {\n\t  ...\n    \"target\": \"es5\",\n    \"downlevelIteration\": true,\n    ...\n    }\n  },\n\t...\n}\n\n```\n\n## 방법 2. es6이상으로 target을 지정\n\n현재 `tsconfig.json` 이 `target` 지정이 되어 있지 않아 `esnext`로 `target` 지정해주었습니다.\n\n`tsconfig.json`\n\n```tsx\n{\n  \"compilerOptions\": {\n\t  ...\n    \"target\": \"esnext\",\n    ...\n    }\n  },\n\t...\n}\n\n```\n\n## 해결완료\n\u003cimg src=\"https://github.com/user-attachments/assets/443e9caa-e159-402b-b77d-fe2caf0a3071\"/\u003e\n\n저는 방법 1의 경우 빌드된 파일의 크기가 다소 커져서 방법 2를 사용해서 해결했습니다.\n","fields":{"slug":"error-ts2802"},"path":"error-ts2802.mdx"},{"frontMatter":{"date":"2024-09-03T00:00:00","title":"동기와 비동기, 블록킹과 논블록킹 개념 정리","tags":["network","computer_science"],"description":"동기(Synchronous)와 비동기(Asynchronous), 블록킹(Blocking)과 논블록킹(Non-Blocking)에 대해 알아보기","thumbnail":"https://github.com/user-attachments/assets/2f87c239-464d-4974-9d9e-0ad75168fc14","published":true,"path":"sync-async.mdx","key":"sync-async","blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAz0lEQVR4nGPQ1tb+bWNu9lddVe2vuJjkX3V1jb/KSsp/1ZVV/2pra/8xMDD4r62t/ZpBW1v7b05Y0P+1s/v+b941/7++meH/W6c3/f//8/p/SUmZfxYW5v/V1dXfMqirq/8NDAz8X11V+X/KtJ7/8Ylx/1ta6/7PnD3xf1RUzL/AwACIQhUVlT/x8fH/QkJD/7m6uv9zdXX9FxgY9M/O1v5ffHz83+Tk5P8KCgpvGCwsLEBu+c/Pzw/HIiIi/wWEBP5zcnL+MzEx+W9iYvIWAP1rWgJeFKZGAAAAAElFTkSuQmCC"},"body":"# 동기(Synchronous)와 비동기(Asynchronous)\n: 작업(프로세스)를 처리하는 방식, 작업 완료 여부에 초점\n\n| \u003cimg width=\"500\" alt=\"image\" src=\"https://github.com/user-attachments/assets/30ccd6f4-0f16-4aff-af19-e1c6ae73b203\"/\u003e | \u003cimg width=\"500\" alt=\"image\" src=\"https://github.com/user-attachments/assets/858dd7cc-d9be-41ec-a669-935c49d89de9\"/\u003e |\n| --- | --- |\n| * 요청(request)을 하면 요청한 자리에서 결과가 주어진다.\u003cbr/\u003e* 서버에서 요청(request)을 보냈을 때 응답(response)이 돌아와야 다음 작업을 진행할 수 있다.\u003cbr/\u003e =\u003e \u003cspan className=\"yellow\"\u003e요청(request)와 응답(reponse)의 순서가 보장된다.\u003c/span\u003e| * 요청(request)한 결과는 동시에 일어나지 않는다.\u003cbr/\u003e* 요청(request)을 보냈을 때 응답(reponse)과 상관없이 다음 동작을 수행할 수 있다.\u003cbr/\u003e=\u003e \u003cspan className=\"yellow\"\u003e요청(request)와 응답(reponse)의 순서가 보장되지 않는다.\u003c/span\u003e|\n| 순차적 진행 보장 O | 순차적 진행 보장 X |\n| 진행 중인 작업이 완료될 때까지 다른 작업 진행 X | 진행 중인 작업이 완료되지 않더라도 다른 작업 진행 O \u003cbr/\u003e=\u003e 느린 작업이 발생하더라도 다른 작업을 진행하기에 전반적인 시스템 성능 향상에 도움을 줄 수 있음 |\n\n# 블록킹(Blocking)과 논블록킹(Non-Blocking)\n: 프로세스 유휴 상태, 다른 요청의 작업을 처리하기 위해 현재 작업 여부(차단/대기)에 초점\n\n| 블록킹(Blocking) | 논블록킹(Non-Blocking) |\n| --- | --- |\n| \u003cimg width=\"500\" alt=\"image\" src=\"https://github.com/user-attachments/assets/534407bf-a9f4-4f0f-a885-9156a9418d78\"/\u003e | \u003cimg width=\"500\" alt=\"image\" src=\"https://github.com/user-attachments/assets/024083e1-c2fc-4e23-8414-8b1223e65071\"/\u003e |\n| 다른 작업이 다 수행될 때까지 현재 작업 차단 | 다른 작업과 현재 작업이 동시에 진행(현재 작업을 막지 않음 = non-blocking) |\n\n# 동기(Synchronous)/비동기(Asynchronous) + 블록킹(Blocking)/논블록킹(Non-Blocking)\n\u003cbr/\u003e\n\n| | 블록킹(Blocking)\u003cbr/\u003e\u003cspan className={\"font-normal\"}\u003e: 호출된 대상이 제어권을 가짐\u003c/span\u003e | 논블록킹(Non-Blocking)\u003cbr/\u003e\u003cspan className={\"font-normal\"}\u003e: 호출한 대상이 제어권을 가짐\u003c/span\u003e |\n| --- | --- | --- |\n|**동기(Synchronous)**\u003cbr/\u003e: 호출한 함수가 작업 완료 여부를 확인| \u003cimg width=\"360\" alt=\"image\" src=\"https://github.com/user-attachments/assets/60be6096-a2ee-4a6b-a080-b1cce0ac63fd\"/\u003e\u003cbr/\u003e* 코드 순차 진행\u003cbr/\u003e* 작업이 간단하거나 양이 적은 경우에 사용된다.\u003cbr/\u003e* 작업량이 많거나 복잡한 경우에는 시간이 오래 걸리기 때문에 비효율적이다. | \u003cimg width=\"360\" alt=\"image\" src=\"https://github.com/user-attachments/assets/aa1f156b-faca-429c-926e-a98f0fc752c5\"/\u003e\u003cbr/\u003e* 자신의 작업을 진행하고 있지만 다른 작업과의 동기를 위해서 계속해서 다른 작업의 완료 여부를 조회한다. |\n|**비동기(Asynchronous)**\u003cbr/\u003e: Callback 함수가 작업 완료 여부를 확인| \u003cimg width=\"360\" alt=\"image\" src=\"https://github.com/user-attachments/assets/aa808961-5b90-4c22-8b5b-2594b9a00afa\"/\u003e\u003cbr/\u003e* 블로킹으로 인해 결국 다른 작업이 끝날 때까지 기다려야 하기에 동기 + 블로킹 작업과 동일한 결과가 나온다. | \u003cimg width=\"360\" alt=\"image\" src=\"https://github.com/user-attachments/assets/c567926e-d881-4b97-9855-20020c89ece0\"/\u003e\u003cbr/\u003e* 자원이 충분하다면 가장 효율이 좋은 조합이다.\u003cbr/\u003e* 순차가 보장되지 않기에 동기가 필요하지 않고 작업이 대규모이고 시간이 오래 걸리는 경우에 사용하면 좋다. |\n\n# 참조\n* [완벽히 이해하는 동기/비동기 \u0026 블로킹/논블로킹](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC)\n* [동기/비동기와 블로킹/논블로킹](https://deveric.tistory.com/99)","fields":{"slug":"sync-async"},"path":"sync-async.mdx"},{"frontMatter":{"date":"2024-08-24T00:00:00","title":"assignInlineVars 사용시에 nextjs warning 해결하기","tags":["nextjs","vanilla_extract"],"series":["trouble_shooting"],"description":"nextjs 환경에서 vanilla-extract assignInlineVars 사용시에 `Warning: Only plain objects can be passed to Client Components from Server Components. Classes or other objects with methods are not supported.` warning 해결하기","thumbnail":"https://github.com/user-attachments/assets/233542e4-436d-4a51-a052-a16605deef28","published":true,"path":"assignInlineVars-to-client-from-server.mdx","key":"assignInlineVars-to-client-from-server","blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqElEQVR4nD2NPQ6CQBCFVxMLO7SwkmAl3IEWY+E/R7TxAGYlXoGGhKzhBhSoNWSZnWd2SXzVlzdf5gkAvdbadG1riNk09cs0tTIAjNYdYchb2MISUe+a5y3C/bp2rHXHw42+TjyezvC8OZa+j9lUYOEJx6PxhC9pal0n0iPLOI5jTpKEN9sd7w8ph2HEQbAyUkorftxHIoJSCkVRoKoq5HkOK5Rl+Z/+Ab3umpxUBd+4AAAAAElFTkSuQmCC"},"body":"# ⚠️ 문제\n\n\n  \u003cimg src={\"https://github.com/user-attachments/assets/b94f9789-11fb-493f-9afb-6fba94957f17\"} alt={\"warning-plain-objects-to-client-from-server\"}/\u003e\n\n  우선 `*Warning: Only plain objects can be passed to Client Components from Server Components.*` 오류는 서버 컴포넌트에서 클라이언트 컴포넌트에 `props`로 내려줄때 `serialize` 해주지 않아 생기는 오류이다.\n\n    \u003caside\u003e\n    💡 `serialize`\n\n    간단히 말하면 객체를 다른 환경에서도 사용할 수 있게 바꾸는 것, 파싱할 수 있는 데이터(e.g. `json`)의 형태로 만드는 것\n\n    \u003c/aside\u003e\n\n# 🔧 해결\n\n  vanilla-extract의 `assignInlineVars` 반환 값을 `json`으로 파싱해주면 해당 `warning`은 해결된다.\n\n## before\n\n  ```tsx\n  \u003cdiv className={styles.groupIconStyle} style={assignInlineVars({ [styles.setGroupColor]: color})}\u003e\n  ```\n\n## after\n\n  ```tsx\n  \u003cdiv className={styles.groupIconStyle} style={JSON.parse(JSON.stringify(assignInlineVars({ [styles.setGroupColor]: color })))}\u003e\n  ```\n\n# 참조\n\n  - https://github.com/vanilla-extract-css/vanilla-extract/issues/1246","fields":{"slug":"assignInlineVars-to-client-from-server"},"path":"assignInlineVars-to-client-from-server.mdx"},{"frontMatter":{"date":"2024-08-06T00:00:00","title":"nextjs-intl: Next.js 환경에서 다국어 지원하기","tags":["nextjs","next_intl"],"series":[],"description":"Next.js 환경에서 next-intl로 pathname에 따라 다국어 지원하기","thumbnail":"https://github.com/user-attachments/assets/e620e3a5-a456-4234-a6b7-a0a8a81a2256","published":true,"path":"nextjs-intl.mdx","key":"nextjs-intl","blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAi0lEQVR4nGP4////7//////Fhr9///7nPwS8ZoAK/n/x+s3/3afO/r93797/E8eP/z+wfz+I/Q8k9/3797dghe/evf0/e/7i/9r2bv95+Pj/a+sb/bd2dPnfN3UmisI/a9eu+6egqPxPVFT8HxMz27/Zi5f/23Pq3L/++Uv/fv35E6T2DdxqHABuIgCXNaqfMqUQ5gAAAABJRU5ErkJggg=="},"body":"`nextjs`로 새로운 프로젝트를 진행하는 중에 다국어를 미리 지원해두면 편할 것 같아서 다국어 지원 라이브러리를 적용하면서 그 방법을 정리해두려고 합니다.\n\n`nextjs`로 다국어 지원은 처음이라 다양한 라이브러리를 찾아보았는데 그 중에서도 `app router`를 지원하는 라이브러리는 `next-intl`이 가장 깔끔해서 해당 라이브러리를 선택하였습니다.\n\nnext-intl에서 제공하는 [example](https://github.com/amannn/next-intl/tree/main/examples/example-app-router)과 [공식 docs](https://next-intl-docs.vercel.app/docs/getting-started/app-router)를 따라 진행하였습니다.\n\n\u003caside\u003e\n  24.9.10 v.3.19 업데이트 내용 추가하였습니다.\n\u003c/aside\u003e\n\n# 설치\n\n```bash\n// npm을 사용하는 경우\nnpm i next-intl\n\n// yarn을 사용하는 경우\nyarn add next-intl\n\n// pnpm을 사용하는 경우\npnpm i next-intl\n```\n\n다음과 같은 두 가지 경우에 해당하는 경우 i18n routing을 설정할 필요가 없습니다.\n\n1. 사용자 설정 등에 따라 언어 설정을 제공하는 경우\n2. 하나의 언어만 지원하는 경우\n\n저희 서비스는 사용자가 서비스 안에서 자유롭게 설정할 수 있도록 만들기 위해 [[next-intl]App Router: App Router setup with i18n routing](https://next-intl-docs.vercel.app/docs/getting-started/app-router/with-i18n-routing)  도움말에 따라 진행하겠습니다.\n\n# 폴더 구조 설정\n\n```\n├── messages\n│   ├── en.json (1)\n│   └── ...\n├── next.config.mjs (2)\n└── src\n    ├── i18n\n    │   ├── routing.ts (3)\n    │   └── request.ts (5)\n    ├── middleware.ts (4)\n    └── app\n        └── [locale]\n            ├── layout.tsx (6)\n            └── page.tsx (7)\n```\n\n## messages 폴더 생성\n\n`next.config.[mjs/js]`가 있는 디렉토리에 `messages` 폴더를 생성하여 `json` 파일을 생성합니다.\n\n```json\n// en.json\n{\n  \"SignUpPage\": {\n    \"title\": {...}\n  }\n}\n\n// ko.json\n{\n  \"SignUpPage\": {\n    \"title\": {\n      \"verify\": \"이메일 인증\",\n      \"register\": \"회원 정보 입력\"\n    }\n  }\n}\n```\n\n## next config 설정\n\n```jsx\nimport createNextIntlPlugin from 'next-intl/plugin';\n\nconst withNextIntl = createNextIntlPlugin();\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nexport default withNextIntl(nextConfig);\n```\n\n## `routing.ts` 생성\n\n24년 9월 10일에 추가된 내용입니다.\n\n```jsx\n  import {defineRouting} from 'next-intl/routing';\n\n  export const routing = defineRouting({\n    locales: ['en', 'ko'],\n    defaultLocale: 'ko'\n  });\n```\n\n## `middleware.ts` 생성\n\n```tsx\nimport createMiddleware from 'next-intl/middleware';\nimport {routing} from \"@i18n/routing\";\n\n// export default createMiddleware({ =\u003e 업데이트: routing으로 변경\n// \t// A list of all locales that are supported\n// \tlocales: ['en', 'ko'],\n//\n// \t// Used when no locale matches\n// \tdefaultLocale: 'ko'\n// });\n\nexport default createMiddleware(routing);\n\nexport const config = {\n\t// Match only internationalized pathnames\n\tmatcher: ['/', '/(ko|en)/:path*']\n};\n```\n\n\n## `request.ts` 생성\n\n`i18n.ts` 에서 `i18n/request.ts`으로 변경되었습니다.\n\n```tsx\nimport {notFound} from 'next/navigation';\nimport {getRequestConfig} from 'next-intl/server';\nimport {routing} from \"@i18n/routing\";\n\n// Can be imported from a shared config\n// export const locales = ['en', 'ko'];  =\u003e 업데이트: routing으로 변경\n\nexport default getRequestConfig(async ({locale}) =\u003e {\n\t// Validate that the incoming `locale` parameter is valid\n\tif (!routing.locales.includes(locale as any)) notFound();\n\n\treturn {\n\t\tmessages: (await import(`../messages/${locale}.json`)).default\n\t};\n});\n```\n\n\n\n## `app/[locale]/layout.tsx` 설정\n\n```tsx\nimport {NextIntlClientProvider} from 'next-intl';\nimport {getMessages} from 'next-intl/server';\n\nexport default async function LocaleLayout({\n  children,\n  params: {locale}\n}: {\n  children: React.ReactNode;\n  params: {locale: string};\n}) {\n  // Providing all messages to the client\n  // side is the easiest way to get started\n  const messages = await getMessages();\n\n  return (\n    \u003chtml lang={locale}\u003e\n      \u003cbody\u003e\n        \u003cNextIntlClientProvider messages={messages}\u003e\n          {children}\n        \u003c/NextIntlClientProvider\u003e\n      \u003c/body\u003e\n    \u003c/html\u003e\n  );\n}\n```\n\n# 사용하기\n\n```tsx\nexport default function RegisterPage() {\n\tconst t = useTranslations(\"SignUpPage\");\n\n\treturn (\n\t\t\u003c\u003e\n\t\t\t\u003ch1 className={\"title\"}\u003e{t(\"title.register\")}\u003c/h1\u003e\n\t\t\u003c/\u003e\n\t);\n}\n```\n\n# 추가 설정\n\n## Navigation APIs\n\n다음과 같이 설정해놓고 사용한다면 pathname에 locale을 입력하지 않고 사용 가능합니다.\n\n`routing.ts`\n\n```tsx\nimport {defineRouting} from 'next-intl/routing';\nimport {createSharedPathnamesNavigation} from 'next-intl/navigation';\n\n...\n\nexport const {Link, redirect, usePathname, useRouter} =\n\tcreateSharedPathnamesNavigation(routing);\n```\n\n만일 사용언어에 따라 다른 path를 쓴다면 `createLocalizedPathnamesNavigation` 사용하면 됩니다. 자세한 내용은 [공식 문서](https://next-intl-docs.vercel.app/docs/routing/navigation) 참고 바랍니다.\n\n# 참조\n\n- [[next-intl] App Router setup with i18n routing](https://next-intl-docs.vercel.app/docs/getting-started/app-router/with-i18n-routing)","fields":{"slug":"nextjs-intl"},"path":"nextjs-intl.mdx"},{"frontMatter":{"date":"2024-03-19T00:00:00","title":"NextJS 이미지 로딩 시에 Blur 처리하기","tags":["nextjs","plaiceholder"],"series":["blog"],"description":"plaiceholder 이용해서 nextjs 이미지 로딩 시에 이미지 Blur 처리하기","thumbnail":"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/73748c95-2e16-4ff9-ae8d-a3bba5deb500","published":true,"path":"nextjs-image-blur.mdx","key":"nextjs-image-blur","blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApklEQVR4nC1OQQrCQAzcx/gkwRd48urZmz/w7hM8exN6ttD1IGypB0GsbSqF1nbVbEbSOjAJSWaGGGb+MnNQ9n0fvPcBQODPOxS3C2NEafTgnEOSJLDW4lGUeN6vWC1mmBgj281ahZVRNxEhyzJoV3bdC4f9Dsv5VM6n4ygUEY2XPM/FWitxHEsUReLSVIhI31DQkPgf0LYtmqZBXdfw3utKhiJS/QBvhbZ8aLo68wAAAABJRU5ErkJggg=="},"body":"블로그 화면 초기 진입 시 또는 새로고침 시에 이미지 로딩 시에 좀 더 매끄러운 사용자 경험을 위해 Nextjs 에서 제공하는 `\u003cImage/\u003e` 태그의 `placeholder`  `props`를 통해 `blur`를 적용해주기로 하였습니다.\n\n# blur 적용하기\n\n## 정적 이미지일 경우\n\n정적 이미지인 경우 굉장히 간단합니다. 그냥 `placeholder`의 옵션을 `blur`로 지정해 주기만 하면, `blurDataURL`를 설정해 주지 않아도 Nextjs가 자동으로 생성해 줍니다.\n\n```jsx\nimport Image from \"next/image\";\nimport ViewSource from \"../../components/view-source\";\nimport mountains from \"../../public/mountains.jpg\";\n\nconst PlaceholderBlur = () =\u003e (\n  \u003cdiv\u003e\n    \u003cViewSource pathname=\"app/placeholder/page.tsx\" /\u003e\n    \u003ch1\u003eImage Component With Placeholder Blur\u003c/h1\u003e\n    \u003cImage\n      alt=\"Mountains\"\n      src={mountains}\n      placeholder=\"blur\"\n      width={700}\n      height={475}\n      style={{\n        maxWidth: \"100%\",\n        height: \"auto\",\n      }}\n    /\u003e\n  \u003c/div\u003e\n);\n\nexport default PlaceholderBlur;\n```\n\n[[출처] nextjs examples](https://github.com/vercel/next.js/blob/canary/examples/image-component/app/placeholder/page.tsx)\n\n## 동적 이미지일 경우\n\n다만 저처럼 경우 블로그의 모든 이미지를 동적으로 가져오는 경우에는 `blurDataURL` 생성해서 입력해 주어야 합니다.\n\n직접 생성해도 되지만, 저의 경우 Nextjs 에서 권장하는 `plaiceholder` 라는 라이브러리를 사용해 주도록 하겠습니다.\n\n### 라이브러리 설치\n\n`plaiceholder` 을 사용하기 위해서는 `plaiceholder` 뿐만 아니라 이미지 최적화 라이브러리 `sharp` **를 함께 설치해 주어야 합니다.**\n\n  ```bash\n  # npm 사용 시\n  npm i sharp plaiceholder\n\n  # yarn 사용시\n  yarn add sharp plaiceholder\n  ```\n\n### 코드 작성\n\n다른 부분에도 쉽게 적용하기 위해 다음과 같이 함수를 작성해주었습니다.\n\n```tsx\n// getBlurImg.ts\nimport { getPlaiceholder } from \"plaiceholder\";\n\nconst getBlurImg = async (imgSrc: string) =\u003e {\n  try {\n    const buffer = await fetch(imgSrc).then(async (res) =\u003e\n      Buffer.from(await res.arrayBuffer())\n    );\n    const { base64 } = await getPlaiceholder(buffer, { size: 10 });\n    return base64;\n  } catch (e) {\n    console.log(e);\n  }\n};\n\nexport default getBlurImg;\n\n```\n\n\u003caside\u003e\n  💡 `getPlaiceholder`\n\n  `[options](https://plaiceholder.co/docs/usage#parameters)`으로 `size`, `autoOrient`, `brightness`, `format,` `hue`,\n  `lightness`, `removeAlpha`, `saturation` 등을 지정하여 이미지에 다양한 설정을 할 수 있습니다.\n\n\u003c/aside\u003e\n\n작성한 함수를 컴포넌트에 적용해 봅시다.\n\n(참고, `index.tsx` ⇒ `Carousel.tsx` ⇒ `ActivePostCard.tsx` 으로 `post props` 전달)\n\n```tsx\n// index.tsx\n...\n\nexport const getStaticProps: GetStaticProps = async () =\u003e {\n  const recentPosts = await getPosts(0, 5);\n  const allTags = await getAllTags();\n  const allSeriesInfo = await getAllSeriesInfo();\n\n  const posts = await Promise.all(\n    recentPosts.map(async (post: PostType) =\u003e {\n      const blurThumbnail = await getBlurImg(post.frontMatter.thumbnail);\n      return { ...post, frontMatter: { ...post.frontMatter, blurThumbnail } };\n    })\n  );\n\n  return {\n    props: {\n      recentPosts: posts,\n      tags: allTags,\n      allSeriesInfo: allSeriesInfo,\n    },\n  };\n};\n```\n\n```tsx\n// ActivePostCard.tsx\n\n...\n\ninterface Props extends PostType {\n  currentIndex: number;\n  direction: DirectionType;\n  allSeriesInfo: SeriesAttributeTableType;\n}\n\nconst ActivePostCard = ({\n  currentIndex,\n  direction,\n  allSeriesInfo,\n  fields: { slug },\n  frontMatter: {\n    title,\n    tags,\n    date,\n    thumbnail,\n    description,\n    series,\n    blurThumbnail,\n  },\n}: Props) =\u003e {\n ...\n  return (\n    \u003cLink href={`/post/${slug}`} aria-label={`link-${slug}`}\u003e\n\t     ...\n         \u003cImage\n            src={thumbnail}\n            alt={title}\n            placeholder={\"blur\"}\n            blurDataURL={blurThumbnail}\n          /\u003e\n         ...\n    \u003c/Link\u003e\n  );\n};\n\nexport default ActivePostCard;\n\n```\n\n## 적용 결과\n\n### 적용 전\n\n\u003cimg alt=\"before-blur\"\n     src=\"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/00f74eb3-373f-424a-970f-703835e3c224\" /\u003e\n\n### 적용 후\n\n\n\u003cimg alt=\"after-blur\"\n     src=\"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/a62aea31-4d56-4d7f-a924-64fd0c599be9\" /\u003e\n\n이미지 로딩 시에 `blur` 효과가 적용된 것을 확인할 수 있습니다.\n\n# 참조\n\n- [[NextJS] image placeholder](https://nextjs.org/docs/pages/api-reference/components/image#placeholder)\n- [[plaiceholder] base64](https://plaiceholder.co/docs/usage#base64)","fields":{"slug":"nextjs-image-blur"},"path":"nextjs-image-blur.mdx"}],"tags":[{"tag":"all","count":43},{"tag":"typescript","count":13},{"tag":"react","count":12},{"tag":"javascript","count":11},{"tag":"nextjs","count":7},{"tag":"network","count":7},{"tag":"git","count":5},{"tag":"computer_science","count":4},{"tag":"npm","count":3},{"tag":"vite","count":3},{"tag":"husky","count":3},{"tag":"yarn","count":2},{"tag":"emotion","count":2},{"tag":"styled_components","count":2},{"tag":"css","count":2},{"tag":"redux","count":2},{"tag":"axios","count":2},{"tag":"yarn_berry","count":1},{"tag":"giscus","count":1},{"tag":"utterances","count":1},{"tag":"semamtic_release","count":1},{"tag":"github_actions","count":1},{"tag":"reg_exp","count":1},{"tag":"redux_persist","count":1},{"tag":"python3","count":1},{"tag":"react_beautiful_dnd","count":1},{"tag":"react_hook_form","count":1},{"tag":"recoil","count":1},{"tag":"next_intl","count":1},{"tag":"plaiceholder","count":1},{"tag":"gtag","count":1},{"tag":"google_analytics","count":1},{"tag":"lodash","count":1},{"tag":"commitlint","count":1},{"tag":"githubpage","count":1},{"tag":"intellij","count":1},{"tag":"gatsby","count":1},{"tag":"framer_motion","count":1},{"tag":"tailwind","count":1},{"tag":"vanilla_extract","count":1}],"allSeriesInfo":{"trouble_shooting":{"title":"⚠️ Trouble Shooting Log","tags":[],"description":"프로젝트 진행 도중 나오는 문제 해결 기록","thumbnail":"https://user-images.githubusercontent.com/56423604/283492423-a261b95e-c0e1-4651-9351-83fc538db17d.png","startDate":"2023-10-09T00:00:00.000Z","endDate":"2024-09-11T00:00:00.000Z","posts":["nextjs-large-page-data-warning","husky-precommit-unauthorized","error-ts2802","error-emeedauth","assignInlineVars-to-client-from-server"],"blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAc0lEQVR4nGNgIBasW8fFjFXi/38xRmQaVfKiEtfX43zpb/bKcSME1/GAjfp/RSDwymbu/x+P8gUjizP8X8kj+P+u4I135/j//78pcOP/Tl5BhO4T/FL/T/Fn/zvClwKi/5/mlybOCyAX/j/CxwLH2FyMDgDUYjYYMUAy4AAAAABJRU5ErkJggg=="},"toy_project":{"title":"Toy Project","tags":[],"description":"소소한 프로젝트들","thumbnail":"https://github.com/COYO-HM/COYO-HM.github.io/assets/56423604/e5565bd4-839d-4c77-9bfc-600ea3990312","startDate":"2022-10-03","endDate":"2022-10-03","posts":["project-simple-kanban-board"],"blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApklEQVR4nGNgQADG/wwMTCCaARX8Z/z//z9UEETD2FCVxQx63OcYuPRf2mvxoOjjVQ9VN3Mpvrgvrf+/t0/RVROraHWEZapJ8xoSW/5vP//pR33SlP8MqnmzEVrVi1cFOTX/f7D5+Ndwl4b/DOoly+Fy+n4zHdVDF36Iq9j9XzVs8XvToAV2KA4ytG9T4TOuizR27FJGFkdhYOfX1zPZ29ezgGiYGADWLTZhLiOmQgAAAABJRU5ErkJggg=="},"network_note":{"title":"컴퓨터 네트워크 강의 정리","tags":["network"],"description":"컴퓨터 네트워크 강의 내용 정리하기","thumbnail":"https://github.com/COYO-HM/COYO-HM.github.io/assets/56423604/d1f6edca-b29b-4a4a-9149-314bc1e7b31a","startDate":"2024-01-04T00:00:00.000Z","endDate":"2024-02-20T00:00:00.000Z","posts":["network-note-01","network-application-02"],"blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApUlEQVR4nGNgQAb//zOi8BlAYqsYmEEYqoCZYdV/CBtZl+D///z/UXX/Z7y+maH95CalGuvuO54MOx/VMhx63fafgQGiaM9Ki3nLlwcu0JrenC6/+uhChk3X5iD07mmRDl9e48OwseK+2dr53l0n/0vAJY8d2yy9Zv8ajcoFi0PmH72h0XfmlSRcsr6+nmnHsStCoY96hQ5fuiSI5ihCAKQahqEAAOQCTe4uYJ7cAAAAAElFTkSuQmCC"},"commit-msg-management":{"title":"커밋 메세지 관리하기","tags":["github","git","github_actions","commitlint","semantic-release"],"description":"커밋 메세지로 버전 관리와 변경 로그까지","thumbnail":"https://github.com/coyo-hm/COYO-HM.github.io/assets/56423604/116b115e-a767-4748-9705-482567e2aba7","startDate":"2023-09-25T00:00:00.000Z","endDate":"2024-03-14T00:00:00.000Z","posts":["semantic-release","husky-commlint","git-commit-template"],"blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAeUlEQVR4nGNgQAWMDNhAKAMDM4iuZ2BgwqoAp05tTc0qdVXVc1oaGpXocm6TJk78/+vnz39Tp0z5z8zA4AGX4WRj850yadL//////22oq/vPycnph6yTKSMtbcK5c+deaqipTQDxMez9//8/Vgcx1tfXw1Tj9AoKAAD3QSKFcAtqVgAAAABJRU5ErkJggg=="},"code_snippets":{"title":"⌨️ Code Snippets","tags":[],"description":"자주 사용하는 코드 조각 모음","thumbnail":"https://user-images.githubusercontent.com/56423604/283492780-cc0b2221-9cbf-497e-8ca1-a93c6539d3b6.png","startDate":"2023-03-30","endDate":"2023-03-30","posts":["reg-exp"],"blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAVUlEQVR4nGNgIAb8//+fEYaJ0gAHaWlprDDMwMCA0L19+3aFPXv2P9qz9+DzPXv231u6Zo0qXPLQoRNap8+c33b23KXNp86c3XLs2DFd4u0k37XYAADDVzGZrFr4WQAAAABJRU5ErkJggg=="},"blog":{"title":"Blog 제작 과정","tags":[],"description":"블로그 자체 제작기","thumbnail":"https://github.com/user-attachments/assets/47567c59-4a8c-47dc-ba42-8c97e8ec9595","startDate":"2022-10-23T00:00:00.000Z","endDate":"2024-03-19T00:00:00.000Z","posts":["utterances-to-giscus","nextjs-large-page-data-warning","nextjs-image-blur","nextjs-gtag","gatsby-add-table-of-contents-in-gatsby","blog-version-2"],"blurThumbnail":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAKCAYAAAB4zEQNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsUlEQVR4nGNgYGBgcP//n9Gg+z8TDDMQDbS7vikZTPlvpdv630Kn/bc+X0wMM1xy4elzq5ecP/J/0t6t/6ceOfpy8eP/AnDJ/9f7Vr07FP//8Ta//79Pl71+cuODGELywt41/y8e+G81afNPnfnH/0uXLZ6IkDy30+/Kht1dRbOr3x09nPPfpKl7JYqjQI4wCvczdYi0t9MI9FKFS+zevZv5XE8PC14vgXSDsHRXJzggAIQLUrGGYmCqAAAAAElFTkSuQmCC"}}},"__N_SSG":true},"page":"/","query":{},"buildId":"ksbH0b8uVkWecRl5mQ8BO","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>